/////////////////////////////////////////////////
/// This file was autogenerated by a T4 template
///
/// WARNING! All changes in this file will be lost!
/////////////////////////////////////////////////

using System;
using System.IO;
using System.ServiceModel;
using System.ServiceModel.Web;
using Cmune.DataCenter.Utils;
using UberStrike.DataCenter.WebService.Crypto;
using UberStrike.Core.Serialization;
using UberStrike.DataCenter.WebService.Interfaces;
               

namespace UberStrike.DataCenter.WebService.CWS
{
	//Interfaces: 11
	#region Interfaces
	
	[ServiceContract]
	public interface IApplicationWebServiceContract
    {
		[OperationContract]
		[WebInvoke]
		byte[] RegisterClientApplication(byte[] data);
		
		[OperationContract]
		[WebInvoke]
		byte[] GetPhotonServers(byte[] data);
		
		[OperationContract]
		[WebInvoke]
		byte[] GetMyIP(byte[] data);
		
		[OperationContract]
		[WebInvoke]
		byte[] AuthenticateApplication(byte[] data);
		
		[OperationContract(IsOneWay = true)]
		[WebInvoke]
		void RecordException(byte[] data);
		
		[OperationContract(IsOneWay = true)]
		[WebInvoke]
		void RecordExceptionUnencrypted(byte[] data);
		
		[OperationContract(IsOneWay = true)]
		[WebInvoke]
		void RecordTutorialStep(byte[] data);
		
		[OperationContract]
		[WebInvoke]
		byte[] ReportBug(byte[] data);
		
		[OperationContract]
		[WebInvoke]
		byte[] GetLiveFeed(byte[] data);
		
		[OperationContract]
		[WebInvoke]
		byte[] GetMaps(byte[] data);
		
		[OperationContract(IsOneWay = true)]
		[WebInvoke]
		void SetLevelVersion(byte[] data);
		
		[OperationContract]
		[WebInvoke]
		byte[] GetPhotonServerName(byte[] data);
		
		[OperationContract]
		[WebInvoke]
		byte[] IsAlive(byte[] data);
		
	}

	[ServiceContract]
	public interface IAuthenticationWebServiceContract
    {
		[OperationContract]
		[WebInvoke]
		byte[] CreateUser(byte[] data);
		
		[OperationContract]
		[WebInvoke]
		byte[] CompleteAccount(byte[] data);
		
		[OperationContract]
		[WebInvoke]
		byte[] UncompleteAccount(byte[] data);
		
		[OperationContract]
		[WebInvoke]
		byte[] LoginMemberEmail(byte[] data);
		
		[OperationContract]
		[WebInvoke]
		byte[] LoginMemberCookie(byte[] data);
		
	}

	[ServiceContract]
	public interface IClanWebServiceContract
    {
		[OperationContract]
		[WebInvoke]
		byte[] IsMemberPartOfGroup(byte[] data);
		
		[OperationContract]
		[WebInvoke]
		byte[] IsMemberPartOfAnyGroup(byte[] data);
		
		[OperationContract]
		[WebInvoke]
		byte[] GetClan(byte[] data);
		
		[OperationContract]
		[WebInvoke]
		byte[] UpdateMemberPosition(byte[] data);
		
		[OperationContract]
		[WebInvoke]
		byte[] InviteMemberToJoinAGroup(byte[] data);
		
		[OperationContract]
		[WebInvoke]
		byte[] AcceptClanInvitation(byte[] data);
		
		[OperationContract]
		[WebInvoke]
		byte[] DeclineClanInvitation(byte[] data);
		
		[OperationContract]
		[WebInvoke]
		byte[] KickMemberFromClan(byte[] data);
		
		[OperationContract]
		[WebInvoke]
		byte[] DisbandGroup(byte[] data);
		
		[OperationContract]
		[WebInvoke]
		byte[] LeaveAClan(byte[] data);
		
		[OperationContract]
		[WebInvoke]
		byte[] GetMyClanId(byte[] data);
		
		[OperationContract]
		[WebInvoke]
		byte[] CancelInvitation(byte[] data);
		
		[OperationContract]
		[WebInvoke]
		byte[] CancelRequest(byte[] data);
		
		[OperationContract]
		[WebInvoke]
		byte[] GetAllGroupInvitations(byte[] data);
		
		[OperationContract]
		[WebInvoke]
		byte[] GetPendingGroupInvitations(byte[] data);
		
		[OperationContract]
		[WebInvoke]
		byte[] CreateClan(byte[] data);
		
		[OperationContract]
		[WebInvoke]
		byte[] TransferOwnership(byte[] data);
		
		[OperationContract]
		[WebInvoke]
		byte[] CanOwnAClan(byte[] data);
		
		[OperationContract]
		[WebInvoke]
		byte[] test(byte[] data);
		
	}

	[ServiceContract]
	public interface IModerationWebServiceContract
    {
		[OperationContract]
		[WebInvoke]
		byte[] BanPermanently(byte[] data);
		
	}

	[ServiceContract]
	public interface IPrivateMessageWebServiceContract
    {
		[OperationContract]
		[WebInvoke]
		byte[] GetAllMessageThreadsForUser_1(byte[] data);
		
		[OperationContract]
		[WebInvoke]
		byte[] GetAllMessageThreadsForUser_2(byte[] data);
		
		[OperationContract]
		[WebInvoke]
		byte[] GetThreadMessages(byte[] data);
		
		[OperationContract]
		[WebInvoke]
		byte[] SendMessage(byte[] data);
		
		[OperationContract]
		[WebInvoke]
		byte[] GetMessageWithId(byte[] data);
		
		[OperationContract(IsOneWay = true)]
		[WebInvoke]
		void MarkThreadAsRead(byte[] data);
		
		[OperationContract(IsOneWay = true)]
		[WebInvoke]
		void DeleteThread(byte[] data);
		
	}

	[ServiceContract]
	public interface IRelationshipWebServiceContract
    {
		[OperationContract]
		[WebInvoke]
		byte[] SendContactRequest(byte[] data);
		
		[OperationContract]
		[WebInvoke]
		byte[] GetContactRequests(byte[] data);
		
		[OperationContract]
		[WebInvoke]
		byte[] AcceptContactRequest(byte[] data);
		
		[OperationContract]
		[WebInvoke]
		byte[] DeclineContactRequest(byte[] data);
		
		[OperationContract]
		[WebInvoke]
		byte[] DeleteContact(byte[] data);
		
		[OperationContract]
		[WebInvoke]
		byte[] MoveContactToGroup(byte[] data);
		
		[OperationContract]
		[WebInvoke]
		byte[] GetContactsByGroups(byte[] data);
		
	}

	[ServiceContract]
	public interface IShopWebServiceContract
    {
		[OperationContract]
		[WebInvoke]
		byte[] GetShop(byte[] data);
		
		[OperationContract]
		[WebInvoke]
		byte[] BuyItem(byte[] data);
		
		[OperationContract]
		[WebInvoke]
		byte[] BuyPack(byte[] data);
		
		[OperationContract]
		[WebInvoke]
		byte[] GetBundles(byte[] data);
		
		[OperationContract]
		[WebInvoke]
		byte[] BuyMasBundle(byte[] data);
		
		[OperationContract]
		[WebInvoke]
		byte[] BuyiPadBundle(byte[] data);
		
		[OperationContract]
		[WebInvoke]
		byte[] BuyiPhoneBundle(byte[] data);
		
		[OperationContract]
		[WebInvoke]
		byte[] UseConsumableItem(byte[] data);
		
		[OperationContract]
		[WebInvoke]
		byte[] GetAllMysteryBoxs_1(byte[] data);
		
		[OperationContract]
		[WebInvoke]
		byte[] GetAllMysteryBoxs_2(byte[] data);
		
		[OperationContract]
		[WebInvoke]
		byte[] GetMysteryBox(byte[] data);
		
		[OperationContract]
		[WebInvoke]
		byte[] RollMysteryBox(byte[] data);
		
		[OperationContract]
		[WebInvoke]
		byte[] GetAllLuckyDraws_1(byte[] data);
		
		[OperationContract]
		[WebInvoke]
		byte[] GetAllLuckyDraws_2(byte[] data);
		
		[OperationContract]
		[WebInvoke]
		byte[] GetLuckyDraw(byte[] data);
		
		[OperationContract]
		[WebInvoke]
		byte[] RollLuckyDraw(byte[] data);
		
	}

	[ServiceContract]
	public interface IUserWebServiceContract
    {
		[OperationContract]
		[WebInvoke]
		byte[] ChangeMemberName(byte[] data);
		
		[OperationContract]
		[WebInvoke]
		byte[] IsDuplicateMemberName(byte[] data);
		
		[OperationContract]
		[WebInvoke]
		byte[] GenerateNonDuplicatedMemberNames(byte[] data);
		
		[OperationContract]
		[WebInvoke]
		byte[] GetPublicProfile(byte[] data);
		
		[OperationContract]
		[WebInvoke]
		byte[] GetMemberWallet(byte[] data);
		
		[OperationContract]
		[WebInvoke]
		byte[] GetInventory(byte[] data);
		
		[OperationContract]
		[WebInvoke]
		byte[] ReportMember(byte[] data);
		
		[OperationContract]
		[WebInvoke]
		byte[] FindMembers(byte[] data);
		
		[OperationContract]
		[WebInvoke]
		byte[] GetCurrencyDeposits(byte[] data);
		
		[OperationContract]
		[WebInvoke]
		byte[] GetItemTransactions(byte[] data);
		
		[OperationContract]
		[WebInvoke]
		byte[] GetPointsDeposits(byte[] data);
		
		[OperationContract]
		[WebInvoke]
		byte[] GetUserAndTopStats(byte[] data);
		
		[OperationContract]
		[WebInvoke]
		byte[] GetRealTimeStatistics(byte[] data);
		
		[OperationContract(IsOneWay = true)]
		[WebInvoke]
		void SetScore(byte[] data);
		
		[OperationContract]
		[WebInvoke]
		byte[] GetMember(byte[] data);
		
		[OperationContract]
		[WebInvoke]
		byte[] GetStatistics(byte[] data);
		
		[OperationContract]
		[WebInvoke]
		byte[] GetLoadout(byte[] data);
		
		[OperationContract]
		[WebInvoke]
		byte[] SetLoadout(byte[] data);
		
		[OperationContract]
		[WebInvoke]
		byte[] GetXPEventsView(byte[] data);
		
		[OperationContract]
		[WebInvoke]
		byte[] GetLevelCapsView(byte[] data);
		
	}

	#endregion
	
	#region De/Serialization
	
	public class ApplicationWebServiceContract : IApplicationWebServiceContract
    {
		private string initVector;
		private string passPhrase;
	
		public ApplicationWebServiceContract()
		{
		    initVector = Cmune.DataCenter.Utils.ConfigurationUtilities.ReadConfigurationManager(Cmune.DataCenter.Common.Entities.CommonAppSettings.InitVector);
            passPhrase = Cmune.DataCenter.Utils.ConfigurationUtilities.ReadConfigurationManager(Cmune.DataCenter.Common.Entities.CommonAppSettings.PassPhrase);
        }

		public byte[] RegisterClientApplication(byte[] data)
		{
			string exceptionMessage = System.String.Empty;
			string debugMessage = System.String.Empty;
			
			try
			{
			 	using(MemoryStream stream = new MemoryStream(data))
				{
            		int _cmuneId = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);
            		string _hashCode = UberStrike.Core.Serialization.StringProxy.Deserialize(stream);
            		Cmune.DataCenter.Common.Entities.ChannelType _channel = UberStrike.Core.Serialization.EnumProxy<Cmune.DataCenter.Common.Entities.ChannelType>.Deserialize(stream);
            		int _applicationId = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);

					debugMessage = string.Format("cmuneId={0}&hashCode={1}&channel={2}&applicationId={3}", _cmuneId, _hashCode, _channel, _applicationId);
					using(MemoryStream returnData = new MemoryStream())
					{
		            	UberStrike.Core.Serialization.RegisterClientApplicationViewModelProxy.Serialize(returnData, 
		                	WebServiceLayerManager.ApplicationWebService.RegisterClientApplication
		                	(
                    			_cmuneId,
                    			_hashCode,
                    			_channel,
                    			_applicationId
		               		)
		            	);
							
						return returnData.ToArray();
					}
				}
			
			}
			catch (System.Security.Cryptography.CryptographicException ex)
			{
				exceptionMessage = LogUtil.LogException(ex, data);
			}
			catch (System.Exception ex2)
			{
				exceptionMessage = LogUtil.LogException(ex2, debugMessage);
			}
			
			throw new Exception(exceptionMessage);
		}
		
		public byte[] GetPhotonServers(byte[] data)
		{
			string exceptionMessage = System.String.Empty;
			string debugMessage = System.String.Empty;
			
			try
			{
			 	using(MemoryStream stream = new MemoryStream(Cryptography.RijndaelDecrypt(data, passPhrase, initVector)))
				{
            		Cmune.DataCenter.Common.Entities.ApplicationView _applicationView = UberStrike.Core.Serialization.ApplicationViewProxy.Deserialize(stream);

					debugMessage = string.Format("applicationView={0}", (_applicationView!=null ? _applicationView.ToString() : "null"));
					using(MemoryStream returnData = new MemoryStream())
					{
		            	UberStrike.Core.Serialization.ListProxy<Cmune.Core.Models.Views.PhotonView>.Serialize(returnData, 
		                	WebServiceLayerManager.ApplicationWebService.GetPhotonServers
		                	(
                    			_applicationView
		               		), PhotonViewProxy.Serialize
		            	);
							
						return Cryptography.RijndaelEncrypt(returnData.ToArray(), passPhrase, initVector);
					}
				}
			
			}
			catch (System.Security.Cryptography.CryptographicException ex)
			{
				exceptionMessage = LogUtil.LogException(ex, data);
			}
			catch (System.Exception ex2)
			{
				exceptionMessage = LogUtil.LogException(ex2, debugMessage);
			}
			
			throw new Exception(exceptionMessage);
		}
		
		public byte[] GetMyIP(byte[] data)
		{
			string exceptionMessage = System.String.Empty;
			string debugMessage = System.String.Empty;
			
			try
			{
					debugMessage = "";
					using(MemoryStream returnData = new MemoryStream())
					{
		            	UberStrike.Core.Serialization.StringProxy.Serialize(returnData, 
		                	WebServiceLayerManager.ApplicationWebService.GetMyIP
		                	(
            			//no arguments
		               		)
		            	);
							
						return Cryptography.RijndaelEncrypt(returnData.ToArray(), passPhrase, initVector);
					}
			
			}
			catch (System.Security.Cryptography.CryptographicException ex)
			{
				exceptionMessage = LogUtil.LogException(ex, data);
			}
			catch (System.Exception ex2)
			{
				exceptionMessage = LogUtil.LogException(ex2, debugMessage);
			}
			
			throw new Exception(exceptionMessage);
		}
		
		public byte[] AuthenticateApplication(byte[] data)
		{
			string exceptionMessage = System.String.Empty;
			string debugMessage = System.String.Empty;
			
			try
			{
			 	using(MemoryStream stream = new MemoryStream(data))
				{
            		string _version = UberStrike.Core.Serialization.StringProxy.Deserialize(stream);
            		Cmune.DataCenter.Common.Entities.ChannelType _channel = UberStrike.Core.Serialization.EnumProxy<Cmune.DataCenter.Common.Entities.ChannelType>.Deserialize(stream);
            		string _publicKey = UberStrike.Core.Serialization.StringProxy.Deserialize(stream);

					debugMessage = string.Format("version={0}&channel={1}&publicKey={2}", _version, _channel, _publicKey);
					using(MemoryStream returnData = new MemoryStream())
					{
		            	UberStrike.Core.Serialization.AuthenticateApplicationViewProxy.Serialize(returnData, 
		                	WebServiceLayerManager.ApplicationWebService.AuthenticateApplication
		                	(
                    			_version,
                    			_channel,
                    			_publicKey
		               		)
		            	);
							
						return returnData.ToArray();
					}
				}
			
			}
			catch (System.Security.Cryptography.CryptographicException ex)
			{
				exceptionMessage = LogUtil.LogException(ex, data);
			}
			catch (System.Exception ex2)
			{
				exceptionMessage = LogUtil.LogException(ex2, debugMessage);
			}
			
			throw new Exception(exceptionMessage);
		}
		
		public void RecordException(byte[] data)
		{
			string exceptionMessage = System.String.Empty;
			string debugMessage = System.String.Empty;
			
			try
			{
			 	using(MemoryStream stream = new MemoryStream(Cryptography.RijndaelDecrypt(data, passPhrase, initVector)))
				{
            		int _cmid = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);
            		Cmune.DataCenter.Common.Entities.BuildType _buildType = UberStrike.Core.Serialization.EnumProxy<Cmune.DataCenter.Common.Entities.BuildType>.Deserialize(stream);
            		Cmune.DataCenter.Common.Entities.ChannelType _channelType = UberStrike.Core.Serialization.EnumProxy<Cmune.DataCenter.Common.Entities.ChannelType>.Deserialize(stream);
            		string _buildNumber = UberStrike.Core.Serialization.StringProxy.Deserialize(stream);
            		string _logString = UberStrike.Core.Serialization.StringProxy.Deserialize(stream);
            		string _stackTrace = UberStrike.Core.Serialization.StringProxy.Deserialize(stream);
            		string _exceptionData = UberStrike.Core.Serialization.StringProxy.Deserialize(stream);

					debugMessage = string.Format("cmid={0}&buildType={1}&channelType={2}&buildNumber={3}&logString={4}&stackTrace={5}&exceptionData={6}", _cmid, _buildType, _channelType, _buildNumber, _logString, _stackTrace, _exceptionData);
					WebServiceLayerManager.ApplicationWebService.RecordException
		            (
            				_cmid,
            				_buildType,
            				_channelType,
            				_buildNumber,
            				_logString,
            				_stackTrace,
            				_exceptionData
					);
				}
			
			}
			catch (System.Security.Cryptography.CryptographicException ex)
			{
				exceptionMessage = LogUtil.LogException(ex, data);
			}
			catch (System.Exception ex2)
			{
				exceptionMessage = LogUtil.LogException(ex2, debugMessage);
			}
		}
		
		public void RecordExceptionUnencrypted(byte[] data)
		{
			string exceptionMessage = System.String.Empty;
			string debugMessage = System.String.Empty;
			
			try
			{
			 	using(MemoryStream stream = new MemoryStream(data))
				{
            		Cmune.DataCenter.Common.Entities.BuildType _buildType = UberStrike.Core.Serialization.EnumProxy<Cmune.DataCenter.Common.Entities.BuildType>.Deserialize(stream);
            		Cmune.DataCenter.Common.Entities.ChannelType _channelType = UberStrike.Core.Serialization.EnumProxy<Cmune.DataCenter.Common.Entities.ChannelType>.Deserialize(stream);
            		string _buildNumber = UberStrike.Core.Serialization.StringProxy.Deserialize(stream);
            		string _errorType = UberStrike.Core.Serialization.StringProxy.Deserialize(stream);
            		string _errorMessage = UberStrike.Core.Serialization.StringProxy.Deserialize(stream);

					debugMessage = string.Format("buildType={0}&channelType={1}&buildNumber={2}&errorType={3}&errorMessage={4}", _buildType, _channelType, _buildNumber, _errorType, _errorMessage);
					WebServiceLayerManager.ApplicationWebService.RecordExceptionUnencrypted
		            (
            				_buildType,
            				_channelType,
            				_buildNumber,
            				_errorType,
            				_errorMessage
					);
				}
			
			}
			catch (System.Security.Cryptography.CryptographicException ex)
			{
				exceptionMessage = LogUtil.LogException(ex, data);
			}
			catch (System.Exception ex2)
			{
				exceptionMessage = LogUtil.LogException(ex2, debugMessage);
			}
		}
		
		public void RecordTutorialStep(byte[] data)
		{
			string exceptionMessage = System.String.Empty;
			string debugMessage = System.String.Empty;
			
			try
			{
			 	using(MemoryStream stream = new MemoryStream(Cryptography.RijndaelDecrypt(data, passPhrase, initVector)))
				{
            		int _cmid = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);
            		UberStrike.Core.Types.TutorialStepType _step = UberStrike.Core.Serialization.EnumProxy<UberStrike.Core.Types.TutorialStepType>.Deserialize(stream);

					debugMessage = string.Format("cmid={0}&step={1}", _cmid, _step);
					WebServiceLayerManager.ApplicationWebService.RecordTutorialStep
		            (
            				_cmid,
            				_step
					);
				}
			
			}
			catch (System.Security.Cryptography.CryptographicException ex)
			{
				exceptionMessage = LogUtil.LogException(ex, data);
			}
			catch (System.Exception ex2)
			{
				exceptionMessage = LogUtil.LogException(ex2, debugMessage);
			}
		}
		
		public byte[] ReportBug(byte[] data)
		{
			string exceptionMessage = System.String.Empty;
			string debugMessage = System.String.Empty;
			
			try
			{
			 	using(MemoryStream stream = new MemoryStream(Cryptography.RijndaelDecrypt(data, passPhrase, initVector)))
				{
            		Cmune.DataCenter.Common.Entities.BugView _bugView = UberStrike.Core.Serialization.BugViewProxy.Deserialize(stream);

					debugMessage = string.Format("bugView={0}", (_bugView!=null ? _bugView.ToString() : "null"));
					using(MemoryStream returnData = new MemoryStream())
					{
		            	UberStrike.Core.Serialization.BooleanProxy.Serialize(returnData, 
		                	WebServiceLayerManager.ApplicationWebService.ReportBug
		                	(
                    			_bugView
		               		)
		            	);
							
						return Cryptography.RijndaelEncrypt(returnData.ToArray(), passPhrase, initVector);
					}
				}
			
			}
			catch (System.Security.Cryptography.CryptographicException ex)
			{
				exceptionMessage = LogUtil.LogException(ex, data);
			}
			catch (System.Exception ex2)
			{
				exceptionMessage = LogUtil.LogException(ex2, debugMessage);
			}
			
			throw new Exception(exceptionMessage);
		}
		
		public byte[] GetLiveFeed(byte[] data)
		{
			string exceptionMessage = System.String.Empty;
			string debugMessage = System.String.Empty;
			
			try
			{
					debugMessage = "";
					using(MemoryStream returnData = new MemoryStream())
					{
		            	UberStrike.Core.Serialization.ListProxy<UberStrike.DataCenter.Common.Entities.LiveFeedView>.Serialize(returnData, 
		                	WebServiceLayerManager.ApplicationWebService.GetLiveFeed
		                	(
            			//no arguments
		               		), LiveFeedViewProxy.Serialize
		            	);
							
						return Cryptography.RijndaelEncrypt(returnData.ToArray(), passPhrase, initVector);
					}
			
			}
			catch (System.Security.Cryptography.CryptographicException ex)
			{
				exceptionMessage = LogUtil.LogException(ex, data);
			}
			catch (System.Exception ex2)
			{
				exceptionMessage = LogUtil.LogException(ex2, debugMessage);
			}
			
			throw new Exception(exceptionMessage);
		}
		
		public byte[] GetMaps(byte[] data)
		{
			string exceptionMessage = System.String.Empty;
			string debugMessage = System.String.Empty;
			
			try
			{
			 	using(MemoryStream stream = new MemoryStream(Cryptography.RijndaelDecrypt(data, passPhrase, initVector)))
				{
            		string _appVersion = UberStrike.Core.Serialization.StringProxy.Deserialize(stream);
            		UberStrike.Core.Types.LocaleType _locale = UberStrike.Core.Serialization.EnumProxy<UberStrike.Core.Types.LocaleType>.Deserialize(stream);
            		UberStrike.Core.Types.MapType _mapType = UberStrike.Core.Serialization.EnumProxy<UberStrike.Core.Types.MapType>.Deserialize(stream);

					debugMessage = string.Format("appVersion={0}&locale={1}&mapType={2}", _appVersion, _locale, _mapType);
					using(MemoryStream returnData = new MemoryStream())
					{
		            	UberStrike.Core.Serialization.ListProxy<UberStrike.Core.Models.Views.MapView>.Serialize(returnData, 
		                	WebServiceLayerManager.ApplicationWebService.GetMaps
		                	(
                    			_appVersion,
                    			_locale,
                    			_mapType
		               		), MapViewProxy.Serialize
		            	);
							
						return Cryptography.RijndaelEncrypt(returnData.ToArray(), passPhrase, initVector);
					}
				}
			
			}
			catch (System.Security.Cryptography.CryptographicException ex)
			{
				exceptionMessage = LogUtil.LogException(ex, data);
			}
			catch (System.Exception ex2)
			{
				exceptionMessage = LogUtil.LogException(ex2, debugMessage);
			}
			
			throw new Exception(exceptionMessage);
		}
		
		public void SetLevelVersion(byte[] data)
		{
			string exceptionMessage = System.String.Empty;
			string debugMessage = System.String.Empty;
			
			try
			{
			 	using(MemoryStream stream = new MemoryStream(Cryptography.RijndaelDecrypt(data, passPhrase, initVector)))
				{
            		int _id = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);
            		int _version = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);
            		string _md5Hash = UberStrike.Core.Serialization.StringProxy.Deserialize(stream);

					debugMessage = string.Format("id={0}&version={1}&md5Hash={2}", _id, _version, _md5Hash);
					WebServiceLayerManager.ApplicationWebService.SetLevelVersion
		            (
            				_id,
            				_version,
            				_md5Hash
					);
				}
			
			}
			catch (System.Security.Cryptography.CryptographicException ex)
			{
				exceptionMessage = LogUtil.LogException(ex, data);
			}
			catch (System.Exception ex2)
			{
				exceptionMessage = LogUtil.LogException(ex2, debugMessage);
			}
		}
		
		public byte[] GetPhotonServerName(byte[] data)
		{
			string exceptionMessage = System.String.Empty;
			string debugMessage = System.String.Empty;
			
			try
			{
			 	using(MemoryStream stream = new MemoryStream(Cryptography.RijndaelDecrypt(data, passPhrase, initVector)))
				{
            		string _applicationVersion = UberStrike.Core.Serialization.StringProxy.Deserialize(stream);
            		string _ipAddress = UberStrike.Core.Serialization.StringProxy.Deserialize(stream);
            		int _port = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);

					debugMessage = string.Format("applicationVersion={0}&ipAddress={1}&port={2}", _applicationVersion, _ipAddress, _port);
					using(MemoryStream returnData = new MemoryStream())
					{
		            	UberStrike.Core.Serialization.StringProxy.Serialize(returnData, 
		                	WebServiceLayerManager.ApplicationWebService.GetPhotonServerName
		                	(
                    			_applicationVersion,
                    			_ipAddress,
                    			_port
		               		)
		            	);
							
						return Cryptography.RijndaelEncrypt(returnData.ToArray(), passPhrase, initVector);
					}
				}
			
			}
			catch (System.Security.Cryptography.CryptographicException ex)
			{
				exceptionMessage = LogUtil.LogException(ex, data);
			}
			catch (System.Exception ex2)
			{
				exceptionMessage = LogUtil.LogException(ex2, debugMessage);
			}
			
			throw new Exception(exceptionMessage);
		}
		
		public byte[] IsAlive(byte[] data)
		{
			string exceptionMessage = System.String.Empty;
			string debugMessage = System.String.Empty;
			
			try
			{
					debugMessage = "";
					using(MemoryStream returnData = new MemoryStream())
					{
		            	UberStrike.Core.Serialization.StringProxy.Serialize(returnData, 
		                	WebServiceLayerManager.ApplicationWebService.IsAlive
		                	(
            			//no arguments
		               		)
		            	);
							
						return Cryptography.RijndaelEncrypt(returnData.ToArray(), passPhrase, initVector);
					}
			
			}
			catch (System.Security.Cryptography.CryptographicException ex)
			{
				exceptionMessage = LogUtil.LogException(ex, data);
			}
			catch (System.Exception ex2)
			{
				exceptionMessage = LogUtil.LogException(ex2, debugMessage);
			}
			
			throw new Exception(exceptionMessage);
		}
		
	}
	
	public class AuthenticationWebServiceContract : IAuthenticationWebServiceContract
    {
		private string initVector;
		private string passPhrase;
	
		public AuthenticationWebServiceContract()
		{
		    initVector = Cmune.DataCenter.Utils.ConfigurationUtilities.ReadConfigurationManager(Cmune.DataCenter.Common.Entities.CommonAppSettings.InitVector);
            passPhrase = Cmune.DataCenter.Utils.ConfigurationUtilities.ReadConfigurationManager(Cmune.DataCenter.Common.Entities.CommonAppSettings.PassPhrase);
        }

		public byte[] CreateUser(byte[] data)
		{
			string exceptionMessage = System.String.Empty;
			string debugMessage = System.String.Empty;
			
			try
			{
			 	using(MemoryStream stream = new MemoryStream(Cryptography.RijndaelDecrypt(data, passPhrase, initVector)))
				{
            		string _emailAddress = UberStrike.Core.Serialization.StringProxy.Deserialize(stream);
            		string _password = UberStrike.Core.Serialization.StringProxy.Deserialize(stream);
            		Cmune.DataCenter.Common.Entities.ChannelType _channel = UberStrike.Core.Serialization.EnumProxy<Cmune.DataCenter.Common.Entities.ChannelType>.Deserialize(stream);
            		string _locale = UberStrike.Core.Serialization.StringProxy.Deserialize(stream);
            		string _machineId = UberStrike.Core.Serialization.StringProxy.Deserialize(stream);

					debugMessage = string.Format("emailAddress={0}&password={1}&channel={2}&locale={3}&machineId={4}", _emailAddress, _password, _channel, _locale, _machineId);
					using(MemoryStream returnData = new MemoryStream())
					{
		            	UberStrike.Core.Serialization.EnumProxy<Cmune.DataCenter.Common.Entities.MemberRegistrationResult>.Serialize(returnData, 
		                	WebServiceLayerManager.AuthenticationWebService.CreateUser
		                	(
                    			_emailAddress,
                    			_password,
                    			_channel,
                    			_locale,
                    			_machineId
		               		)
		            	);
							
						return Cryptography.RijndaelEncrypt(returnData.ToArray(), passPhrase, initVector);
					}
				}
			
			}
			catch (System.Security.Cryptography.CryptographicException ex)
			{
				exceptionMessage = LogUtil.LogException(ex, data);
			}
			catch (System.Exception ex2)
			{
				exceptionMessage = LogUtil.LogException(ex2, debugMessage);
			}
			
			throw new Exception(exceptionMessage);
		}
		
		public byte[] CompleteAccount(byte[] data)
		{
			string exceptionMessage = System.String.Empty;
			string debugMessage = System.String.Empty;
			
			try
			{
			 	using(MemoryStream stream = new MemoryStream(Cryptography.RijndaelDecrypt(data, passPhrase, initVector)))
				{
            		int _cmid = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);
            		string _name = UberStrike.Core.Serialization.StringProxy.Deserialize(stream);
            		Cmune.DataCenter.Common.Entities.ChannelType _channel = UberStrike.Core.Serialization.EnumProxy<Cmune.DataCenter.Common.Entities.ChannelType>.Deserialize(stream);
            		string _locale = UberStrike.Core.Serialization.StringProxy.Deserialize(stream);
            		string _machineId = UberStrike.Core.Serialization.StringProxy.Deserialize(stream);

					debugMessage = string.Format("cmid={0}&name={1}&channel={2}&locale={3}&machineId={4}", _cmid, _name, _channel, _locale, _machineId);
					using(MemoryStream returnData = new MemoryStream())
					{
		            	UberStrike.Core.Serialization.AccountCompletionResultViewProxy.Serialize(returnData, 
		                	WebServiceLayerManager.AuthenticationWebService.CompleteAccount
		                	(
                    			_cmid,
                    			_name,
                    			_channel,
                    			_locale,
                    			_machineId
		               		)
		            	);
							
						return Cryptography.RijndaelEncrypt(returnData.ToArray(), passPhrase, initVector);
					}
				}
			
			}
			catch (System.Security.Cryptography.CryptographicException ex)
			{
				exceptionMessage = LogUtil.LogException(ex, data);
			}
			catch (System.Exception ex2)
			{
				exceptionMessage = LogUtil.LogException(ex2, debugMessage);
			}
			
			throw new Exception(exceptionMessage);
		}
		
		public byte[] UncompleteAccount(byte[] data)
		{
			string exceptionMessage = System.String.Empty;
			string debugMessage = System.String.Empty;
			
			try
			{
			 	using(MemoryStream stream = new MemoryStream(Cryptography.RijndaelDecrypt(data, passPhrase, initVector)))
				{
            		int _cmid = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);

					debugMessage = string.Format("cmid={0}", _cmid);
					using(MemoryStream returnData = new MemoryStream())
					{
		            	UberStrike.Core.Serialization.BooleanProxy.Serialize(returnData, 
		                	WebServiceLayerManager.AuthenticationWebService.UncompleteAccount
		                	(
                    			_cmid
		               		)
		            	);
							
						return Cryptography.RijndaelEncrypt(returnData.ToArray(), passPhrase, initVector);
					}
				}
			
			}
			catch (System.Security.Cryptography.CryptographicException ex)
			{
				exceptionMessage = LogUtil.LogException(ex, data);
			}
			catch (System.Exception ex2)
			{
				exceptionMessage = LogUtil.LogException(ex2, debugMessage);
			}
			
			throw new Exception(exceptionMessage);
		}
		
		public byte[] LoginMemberEmail(byte[] data)
		{
			string exceptionMessage = System.String.Empty;
			string debugMessage = System.String.Empty;
			
			try
			{
			 	using(MemoryStream stream = new MemoryStream(Cryptography.RijndaelDecrypt(data, passPhrase, initVector)))
				{
            		string _email = UberStrike.Core.Serialization.StringProxy.Deserialize(stream);
            		string _password = UberStrike.Core.Serialization.StringProxy.Deserialize(stream);
            		Cmune.DataCenter.Common.Entities.ChannelType _channelType = UberStrike.Core.Serialization.EnumProxy<Cmune.DataCenter.Common.Entities.ChannelType>.Deserialize(stream);
            		string _machineId = UberStrike.Core.Serialization.StringProxy.Deserialize(stream);

					debugMessage = string.Format("email={0}&password={1}&channelType={2}&machineId={3}", _email, _password, _channelType, _machineId);
					using(MemoryStream returnData = new MemoryStream())
					{
		            	UberStrike.Core.Serialization.MemberAuthenticationResultViewProxy.Serialize(returnData, 
		                	WebServiceLayerManager.AuthenticationWebService.LoginMemberEmail
		                	(
                    			_email,
                    			_password,
                    			_channelType,
                    			_machineId
		               		)
		            	);
							
						return Cryptography.RijndaelEncrypt(returnData.ToArray(), passPhrase, initVector);
					}
				}
			
			}
			catch (System.Security.Cryptography.CryptographicException ex)
			{
				exceptionMessage = LogUtil.LogException(ex, data);
			}
			catch (System.Exception ex2)
			{
				exceptionMessage = LogUtil.LogException(ex2, debugMessage);
			}
			
			throw new Exception(exceptionMessage);
		}
		
		public byte[] LoginMemberCookie(byte[] data)
		{
			string exceptionMessage = System.String.Empty;
			string debugMessage = System.String.Empty;
			
			try
			{
			 	using(MemoryStream stream = new MemoryStream(Cryptography.RijndaelDecrypt(data, passPhrase, initVector)))
				{
            		int _cmid = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);
            		System.DateTime _expirationTime = UberStrike.Core.Serialization.DateTimeProxy.Deserialize(stream);
            		string _encryptedContent = UberStrike.Core.Serialization.StringProxy.Deserialize(stream);
            		string _hash = UberStrike.Core.Serialization.StringProxy.Deserialize(stream);
            		Cmune.DataCenter.Common.Entities.ChannelType _channelType = UberStrike.Core.Serialization.EnumProxy<Cmune.DataCenter.Common.Entities.ChannelType>.Deserialize(stream);
            		string _machineId = UberStrike.Core.Serialization.StringProxy.Deserialize(stream);

					debugMessage = string.Format("cmid={0}&expirationTime={1}&encryptedContent={2}&hash={3}&channelType={4}&machineId={5}", _cmid, _expirationTime, _encryptedContent, _hash, _channelType, _machineId);
					using(MemoryStream returnData = new MemoryStream())
					{
		            	UberStrike.Core.Serialization.MemberAuthenticationResultViewProxy.Serialize(returnData, 
		                	WebServiceLayerManager.AuthenticationWebService.LoginMemberCookie
		                	(
                    			_cmid,
                    			_expirationTime,
                    			_encryptedContent,
                    			_hash,
                    			_channelType,
                    			_machineId
		               		)
		            	);
							
						return Cryptography.RijndaelEncrypt(returnData.ToArray(), passPhrase, initVector);
					}
				}
			
			}
			catch (System.Security.Cryptography.CryptographicException ex)
			{
				exceptionMessage = LogUtil.LogException(ex, data);
			}
			catch (System.Exception ex2)
			{
				exceptionMessage = LogUtil.LogException(ex2, debugMessage);
			}
			
			throw new Exception(exceptionMessage);
		}
		
	}
	
	public class ClanWebServiceContract : IClanWebServiceContract
    {
		private string initVector;
		private string passPhrase;
	
		public ClanWebServiceContract()
		{
		    initVector = Cmune.DataCenter.Utils.ConfigurationUtilities.ReadConfigurationManager(Cmune.DataCenter.Common.Entities.CommonAppSettings.InitVector);
            passPhrase = Cmune.DataCenter.Utils.ConfigurationUtilities.ReadConfigurationManager(Cmune.DataCenter.Common.Entities.CommonAppSettings.PassPhrase);
        }

		public byte[] IsMemberPartOfGroup(byte[] data)
		{
			string exceptionMessage = System.String.Empty;
			string debugMessage = System.String.Empty;
			
			try
			{
			 	using(MemoryStream stream = new MemoryStream(Cryptography.RijndaelDecrypt(data, passPhrase, initVector)))
				{
            		int _cmuneId = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);
            		int _groupId = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);

					debugMessage = string.Format("cmuneId={0}&groupId={1}", _cmuneId, _groupId);
					using(MemoryStream returnData = new MemoryStream())
					{
		            	UberStrike.Core.Serialization.BooleanProxy.Serialize(returnData, 
		                	WebServiceLayerManager.ClanWebService.IsMemberPartOfGroup
		                	(
                    			_cmuneId,
                    			_groupId
		               		)
		            	);
							
						return Cryptography.RijndaelEncrypt(returnData.ToArray(), passPhrase, initVector);
					}
				}
			
			}
			catch (System.Security.Cryptography.CryptographicException ex)
			{
				exceptionMessage = LogUtil.LogException(ex, data);
			}
			catch (System.Exception ex2)
			{
				exceptionMessage = LogUtil.LogException(ex2, debugMessage);
			}
			
			throw new Exception(exceptionMessage);
		}
		
		public byte[] IsMemberPartOfAnyGroup(byte[] data)
		{
			string exceptionMessage = System.String.Empty;
			string debugMessage = System.String.Empty;
			
			try
			{
			 	using(MemoryStream stream = new MemoryStream(Cryptography.RijndaelDecrypt(data, passPhrase, initVector)))
				{
            		int _cmuneId = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);
            		int _applicationId = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);

					debugMessage = string.Format("cmuneId={0}&applicationId={1}", _cmuneId, _applicationId);
					using(MemoryStream returnData = new MemoryStream())
					{
		            	UberStrike.Core.Serialization.BooleanProxy.Serialize(returnData, 
		                	WebServiceLayerManager.ClanWebService.IsMemberPartOfAnyGroup
		                	(
                    			_cmuneId,
                    			_applicationId
		               		)
		            	);
							
						return Cryptography.RijndaelEncrypt(returnData.ToArray(), passPhrase, initVector);
					}
				}
			
			}
			catch (System.Security.Cryptography.CryptographicException ex)
			{
				exceptionMessage = LogUtil.LogException(ex, data);
			}
			catch (System.Exception ex2)
			{
				exceptionMessage = LogUtil.LogException(ex2, debugMessage);
			}
			
			throw new Exception(exceptionMessage);
		}
		
		public byte[] GetClan(byte[] data)
		{
			string exceptionMessage = System.String.Empty;
			string debugMessage = System.String.Empty;
			
			try
			{
			 	using(MemoryStream stream = new MemoryStream(Cryptography.RijndaelDecrypt(data, passPhrase, initVector)))
				{
            		int _groupId = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);

					debugMessage = string.Format("groupId={0}", _groupId);
					using(MemoryStream returnData = new MemoryStream())
					{
		            	UberStrike.Core.Serialization.ClanViewProxy.Serialize(returnData, 
		                	WebServiceLayerManager.ClanWebService.GetClan
		                	(
                    			_groupId
		               		)
		            	);
							
						return Cryptography.RijndaelEncrypt(returnData.ToArray(), passPhrase, initVector);
					}
				}
			
			}
			catch (System.Security.Cryptography.CryptographicException ex)
			{
				exceptionMessage = LogUtil.LogException(ex, data);
			}
			catch (System.Exception ex2)
			{
				exceptionMessage = LogUtil.LogException(ex2, debugMessage);
			}
			
			throw new Exception(exceptionMessage);
		}
		
		public byte[] UpdateMemberPosition(byte[] data)
		{
			string exceptionMessage = System.String.Empty;
			string debugMessage = System.String.Empty;
			
			try
			{
			 	using(MemoryStream stream = new MemoryStream(Cryptography.RijndaelDecrypt(data, passPhrase, initVector)))
				{
            		Cmune.DataCenter.Common.Entities.MemberPositionUpdateView _updateMemberPositionData = UberStrike.Core.Serialization.MemberPositionUpdateViewProxy.Deserialize(stream);

					debugMessage = string.Format("updateMemberPositionData={0}", (_updateMemberPositionData!=null ? _updateMemberPositionData.ToString() : "null"));
					using(MemoryStream returnData = new MemoryStream())
					{
		            	UberStrike.Core.Serialization.Int32Proxy.Serialize(returnData, 
		                	WebServiceLayerManager.ClanWebService.UpdateMemberPosition
		                	(
                    			_updateMemberPositionData
		               		)
		            	);
							
						return Cryptography.RijndaelEncrypt(returnData.ToArray(), passPhrase, initVector);
					}
				}
			
			}
			catch (System.Security.Cryptography.CryptographicException ex)
			{
				exceptionMessage = LogUtil.LogException(ex, data);
			}
			catch (System.Exception ex2)
			{
				exceptionMessage = LogUtil.LogException(ex2, debugMessage);
			}
			
			throw new Exception(exceptionMessage);
		}
		
		public byte[] InviteMemberToJoinAGroup(byte[] data)
		{
			string exceptionMessage = System.String.Empty;
			string debugMessage = System.String.Empty;
			
			try
			{
			 	using(MemoryStream stream = new MemoryStream(Cryptography.RijndaelDecrypt(data, passPhrase, initVector)))
				{
            		int _clanId = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);
            		int _inviterCmid = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);
            		int _inviteeCmid = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);
            		string _message = UberStrike.Core.Serialization.StringProxy.Deserialize(stream);

					debugMessage = string.Format("clanId={0}&inviterCmid={1}&inviteeCmid={2}&message={3}", _clanId, _inviterCmid, _inviteeCmid, _message);
					using(MemoryStream returnData = new MemoryStream())
					{
		            	UberStrike.Core.Serialization.Int32Proxy.Serialize(returnData, 
		                	WebServiceLayerManager.ClanWebService.InviteMemberToJoinAGroup
		                	(
                    			_clanId,
                    			_inviterCmid,
                    			_inviteeCmid,
                    			_message
		               		)
		            	);
							
						return Cryptography.RijndaelEncrypt(returnData.ToArray(), passPhrase, initVector);
					}
				}
			
			}
			catch (System.Security.Cryptography.CryptographicException ex)
			{
				exceptionMessage = LogUtil.LogException(ex, data);
			}
			catch (System.Exception ex2)
			{
				exceptionMessage = LogUtil.LogException(ex2, debugMessage);
			}
			
			throw new Exception(exceptionMessage);
		}
		
		public byte[] AcceptClanInvitation(byte[] data)
		{
			string exceptionMessage = System.String.Empty;
			string debugMessage = System.String.Empty;
			
			try
			{
			 	using(MemoryStream stream = new MemoryStream(Cryptography.RijndaelDecrypt(data, passPhrase, initVector)))
				{
            		int _clanInvitationId = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);
            		int _cmid = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);

					debugMessage = string.Format("clanInvitationId={0}&cmid={1}", _clanInvitationId, _cmid);
					using(MemoryStream returnData = new MemoryStream())
					{
		            	UberStrike.Core.Serialization.ClanRequestAcceptViewProxy.Serialize(returnData, 
		                	WebServiceLayerManager.ClanWebService.AcceptClanInvitation
		                	(
                    			_clanInvitationId,
                    			_cmid
		               		)
		            	);
							
						return Cryptography.RijndaelEncrypt(returnData.ToArray(), passPhrase, initVector);
					}
				}
			
			}
			catch (System.Security.Cryptography.CryptographicException ex)
			{
				exceptionMessage = LogUtil.LogException(ex, data);
			}
			catch (System.Exception ex2)
			{
				exceptionMessage = LogUtil.LogException(ex2, debugMessage);
			}
			
			throw new Exception(exceptionMessage);
		}
		
		public byte[] DeclineClanInvitation(byte[] data)
		{
			string exceptionMessage = System.String.Empty;
			string debugMessage = System.String.Empty;
			
			try
			{
			 	using(MemoryStream stream = new MemoryStream(Cryptography.RijndaelDecrypt(data, passPhrase, initVector)))
				{
            		int _clanInvitationId = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);
            		int _cmid = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);

					debugMessage = string.Format("clanInvitationId={0}&cmid={1}", _clanInvitationId, _cmid);
					using(MemoryStream returnData = new MemoryStream())
					{
		            	UberStrike.Core.Serialization.ClanRequestDeclineViewProxy.Serialize(returnData, 
		                	WebServiceLayerManager.ClanWebService.DeclineClanInvitation
		                	(
                    			_clanInvitationId,
                    			_cmid
		               		)
		            	);
							
						return Cryptography.RijndaelEncrypt(returnData.ToArray(), passPhrase, initVector);
					}
				}
			
			}
			catch (System.Security.Cryptography.CryptographicException ex)
			{
				exceptionMessage = LogUtil.LogException(ex, data);
			}
			catch (System.Exception ex2)
			{
				exceptionMessage = LogUtil.LogException(ex2, debugMessage);
			}
			
			throw new Exception(exceptionMessage);
		}
		
		public byte[] KickMemberFromClan(byte[] data)
		{
			string exceptionMessage = System.String.Empty;
			string debugMessage = System.String.Empty;
			
			try
			{
			 	using(MemoryStream stream = new MemoryStream(Cryptography.RijndaelDecrypt(data, passPhrase, initVector)))
				{
            		int _groupId = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);
            		int _cmidTakingAction = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);
            		int _cmidToKick = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);

					debugMessage = string.Format("groupId={0}&cmidTakingAction={1}&cmidToKick={2}", _groupId, _cmidTakingAction, _cmidToKick);
					using(MemoryStream returnData = new MemoryStream())
					{
		            	UberStrike.Core.Serialization.Int32Proxy.Serialize(returnData, 
		                	WebServiceLayerManager.ClanWebService.KickMemberFromClan
		                	(
                    			_groupId,
                    			_cmidTakingAction,
                    			_cmidToKick
		               		)
		            	);
							
						return Cryptography.RijndaelEncrypt(returnData.ToArray(), passPhrase, initVector);
					}
				}
			
			}
			catch (System.Security.Cryptography.CryptographicException ex)
			{
				exceptionMessage = LogUtil.LogException(ex, data);
			}
			catch (System.Exception ex2)
			{
				exceptionMessage = LogUtil.LogException(ex2, debugMessage);
			}
			
			throw new Exception(exceptionMessage);
		}
		
		public byte[] DisbandGroup(byte[] data)
		{
			string exceptionMessage = System.String.Empty;
			string debugMessage = System.String.Empty;
			
			try
			{
			 	using(MemoryStream stream = new MemoryStream(Cryptography.RijndaelDecrypt(data, passPhrase, initVector)))
				{
            		int _groupId = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);
            		int _cmidTakingAction = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);

					debugMessage = string.Format("groupId={0}&cmidTakingAction={1}", _groupId, _cmidTakingAction);
					using(MemoryStream returnData = new MemoryStream())
					{
		            	UberStrike.Core.Serialization.Int32Proxy.Serialize(returnData, 
		                	WebServiceLayerManager.ClanWebService.DisbandGroup
		                	(
                    			_groupId,
                    			_cmidTakingAction
		               		)
		            	);
							
						return Cryptography.RijndaelEncrypt(returnData.ToArray(), passPhrase, initVector);
					}
				}
			
			}
			catch (System.Security.Cryptography.CryptographicException ex)
			{
				exceptionMessage = LogUtil.LogException(ex, data);
			}
			catch (System.Exception ex2)
			{
				exceptionMessage = LogUtil.LogException(ex2, debugMessage);
			}
			
			throw new Exception(exceptionMessage);
		}
		
		public byte[] LeaveAClan(byte[] data)
		{
			string exceptionMessage = System.String.Empty;
			string debugMessage = System.String.Empty;
			
			try
			{
			 	using(MemoryStream stream = new MemoryStream(Cryptography.RijndaelDecrypt(data, passPhrase, initVector)))
				{
            		int _groupId = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);
            		int _cmid = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);

					debugMessage = string.Format("groupId={0}&cmid={1}", _groupId, _cmid);
					using(MemoryStream returnData = new MemoryStream())
					{
		            	UberStrike.Core.Serialization.Int32Proxy.Serialize(returnData, 
		                	WebServiceLayerManager.ClanWebService.LeaveAClan
		                	(
                    			_groupId,
                    			_cmid
		               		)
		            	);
							
						return Cryptography.RijndaelEncrypt(returnData.ToArray(), passPhrase, initVector);
					}
				}
			
			}
			catch (System.Security.Cryptography.CryptographicException ex)
			{
				exceptionMessage = LogUtil.LogException(ex, data);
			}
			catch (System.Exception ex2)
			{
				exceptionMessage = LogUtil.LogException(ex2, debugMessage);
			}
			
			throw new Exception(exceptionMessage);
		}
		
		public byte[] GetMyClanId(byte[] data)
		{
			string exceptionMessage = System.String.Empty;
			string debugMessage = System.String.Empty;
			
			try
			{
			 	using(MemoryStream stream = new MemoryStream(Cryptography.RijndaelDecrypt(data, passPhrase, initVector)))
				{
            		int _cmid = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);
            		int _applicationId = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);

					debugMessage = string.Format("cmid={0}&applicationId={1}", _cmid, _applicationId);
					using(MemoryStream returnData = new MemoryStream())
					{
		            	UberStrike.Core.Serialization.Int32Proxy.Serialize(returnData, 
		                	WebServiceLayerManager.ClanWebService.GetMyClanId
		                	(
                    			_cmid,
                    			_applicationId
		               		)
		            	);
							
						return Cryptography.RijndaelEncrypt(returnData.ToArray(), passPhrase, initVector);
					}
				}
			
			}
			catch (System.Security.Cryptography.CryptographicException ex)
			{
				exceptionMessage = LogUtil.LogException(ex, data);
			}
			catch (System.Exception ex2)
			{
				exceptionMessage = LogUtil.LogException(ex2, debugMessage);
			}
			
			throw new Exception(exceptionMessage);
		}
		
		public byte[] CancelInvitation(byte[] data)
		{
			string exceptionMessage = System.String.Empty;
			string debugMessage = System.String.Empty;
			
			try
			{
			 	using(MemoryStream stream = new MemoryStream(Cryptography.RijndaelDecrypt(data, passPhrase, initVector)))
				{
            		int _groupInvitationId = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);
            		int _cmid = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);

					debugMessage = string.Format("groupInvitationId={0}&cmid={1}", _groupInvitationId, _cmid);
					using(MemoryStream returnData = new MemoryStream())
					{
		            	UberStrike.Core.Serialization.Int32Proxy.Serialize(returnData, 
		                	WebServiceLayerManager.ClanWebService.CancelInvitation
		                	(
                    			_groupInvitationId,
                    			_cmid
		               		)
		            	);
							
						return Cryptography.RijndaelEncrypt(returnData.ToArray(), passPhrase, initVector);
					}
				}
			
			}
			catch (System.Security.Cryptography.CryptographicException ex)
			{
				exceptionMessage = LogUtil.LogException(ex, data);
			}
			catch (System.Exception ex2)
			{
				exceptionMessage = LogUtil.LogException(ex2, debugMessage);
			}
			
			throw new Exception(exceptionMessage);
		}
		
		public byte[] CancelRequest(byte[] data)
		{
			string exceptionMessage = System.String.Empty;
			string debugMessage = System.String.Empty;
			
			try
			{
			 	using(MemoryStream stream = new MemoryStream(Cryptography.RijndaelDecrypt(data, passPhrase, initVector)))
				{
            		int _groupRequestId = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);

					debugMessage = string.Format("groupRequestId={0}", _groupRequestId);
					using(MemoryStream returnData = new MemoryStream())
					{
		            	UberStrike.Core.Serialization.Int32Proxy.Serialize(returnData, 
		                	WebServiceLayerManager.ClanWebService.CancelRequest
		                	(
                    			_groupRequestId
		               		)
		            	);
							
						return Cryptography.RijndaelEncrypt(returnData.ToArray(), passPhrase, initVector);
					}
				}
			
			}
			catch (System.Security.Cryptography.CryptographicException ex)
			{
				exceptionMessage = LogUtil.LogException(ex, data);
			}
			catch (System.Exception ex2)
			{
				exceptionMessage = LogUtil.LogException(ex2, debugMessage);
			}
			
			throw new Exception(exceptionMessage);
		}
		
		public byte[] GetAllGroupInvitations(byte[] data)
		{
			string exceptionMessage = System.String.Empty;
			string debugMessage = System.String.Empty;
			
			try
			{
			 	using(MemoryStream stream = new MemoryStream(Cryptography.RijndaelDecrypt(data, passPhrase, initVector)))
				{
            		int _inviteeCmid = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);
            		int _applicationId = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);

					debugMessage = string.Format("inviteeCmid={0}&applicationId={1}", _inviteeCmid, _applicationId);
					using(MemoryStream returnData = new MemoryStream())
					{
		            	UberStrike.Core.Serialization.ListProxy<Cmune.DataCenter.Common.Entities.GroupInvitationView>.Serialize(returnData, 
		                	WebServiceLayerManager.ClanWebService.GetAllGroupInvitations
		                	(
                    			_inviteeCmid,
                    			_applicationId
		               		), GroupInvitationViewProxy.Serialize
		            	);
							
						return Cryptography.RijndaelEncrypt(returnData.ToArray(), passPhrase, initVector);
					}
				}
			
			}
			catch (System.Security.Cryptography.CryptographicException ex)
			{
				exceptionMessage = LogUtil.LogException(ex, data);
			}
			catch (System.Exception ex2)
			{
				exceptionMessage = LogUtil.LogException(ex2, debugMessage);
			}
			
			throw new Exception(exceptionMessage);
		}
		
		public byte[] GetPendingGroupInvitations(byte[] data)
		{
			string exceptionMessage = System.String.Empty;
			string debugMessage = System.String.Empty;
			
			try
			{
			 	using(MemoryStream stream = new MemoryStream(Cryptography.RijndaelDecrypt(data, passPhrase, initVector)))
				{
            		int _groupId = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);

					debugMessage = string.Format("groupId={0}", _groupId);
					using(MemoryStream returnData = new MemoryStream())
					{
		            	UberStrike.Core.Serialization.ListProxy<Cmune.DataCenter.Common.Entities.GroupInvitationView>.Serialize(returnData, 
		                	WebServiceLayerManager.ClanWebService.GetPendingGroupInvitations
		                	(
                    			_groupId
		               		), GroupInvitationViewProxy.Serialize
		            	);
							
						return Cryptography.RijndaelEncrypt(returnData.ToArray(), passPhrase, initVector);
					}
				}
			
			}
			catch (System.Security.Cryptography.CryptographicException ex)
			{
				exceptionMessage = LogUtil.LogException(ex, data);
			}
			catch (System.Exception ex2)
			{
				exceptionMessage = LogUtil.LogException(ex2, debugMessage);
			}
			
			throw new Exception(exceptionMessage);
		}
		
		public byte[] CreateClan(byte[] data)
		{
			string exceptionMessage = System.String.Empty;
			string debugMessage = System.String.Empty;
			
			try
			{
			 	using(MemoryStream stream = new MemoryStream(Cryptography.RijndaelDecrypt(data, passPhrase, initVector)))
				{
            		Cmune.DataCenter.Common.Entities.GroupCreationView _createClanData = UberStrike.Core.Serialization.GroupCreationViewProxy.Deserialize(stream);

					debugMessage = string.Format("createClanData={0}", (_createClanData!=null ? _createClanData.ToString() : "null"));
					using(MemoryStream returnData = new MemoryStream())
					{
		            	UberStrike.Core.Serialization.ClanCreationReturnViewProxy.Serialize(returnData, 
		                	WebServiceLayerManager.ClanWebService.CreateClan
		                	(
                    			_createClanData
		               		)
		            	);
							
						return Cryptography.RijndaelEncrypt(returnData.ToArray(), passPhrase, initVector);
					}
				}
			
			}
			catch (System.Security.Cryptography.CryptographicException ex)
			{
				exceptionMessage = LogUtil.LogException(ex, data);
			}
			catch (System.Exception ex2)
			{
				exceptionMessage = LogUtil.LogException(ex2, debugMessage);
			}
			
			throw new Exception(exceptionMessage);
		}
		
		public byte[] TransferOwnership(byte[] data)
		{
			string exceptionMessage = System.String.Empty;
			string debugMessage = System.String.Empty;
			
			try
			{
			 	using(MemoryStream stream = new MemoryStream(Cryptography.RijndaelDecrypt(data, passPhrase, initVector)))
				{
            		int _groupId = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);
            		int _previousLeaderCmid = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);
            		int _newLeaderCmid = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);

					debugMessage = string.Format("groupId={0}&previousLeaderCmid={1}&newLeaderCmid={2}", _groupId, _previousLeaderCmid, _newLeaderCmid);
					using(MemoryStream returnData = new MemoryStream())
					{
		            	UberStrike.Core.Serialization.Int32Proxy.Serialize(returnData, 
		                	WebServiceLayerManager.ClanWebService.TransferOwnership
		                	(
                    			_groupId,
                    			_previousLeaderCmid,
                    			_newLeaderCmid
		               		)
		            	);
							
						return Cryptography.RijndaelEncrypt(returnData.ToArray(), passPhrase, initVector);
					}
				}
			
			}
			catch (System.Security.Cryptography.CryptographicException ex)
			{
				exceptionMessage = LogUtil.LogException(ex, data);
			}
			catch (System.Exception ex2)
			{
				exceptionMessage = LogUtil.LogException(ex2, debugMessage);
			}
			
			throw new Exception(exceptionMessage);
		}
		
		public byte[] CanOwnAClan(byte[] data)
		{
			string exceptionMessage = System.String.Empty;
			string debugMessage = System.String.Empty;
			
			try
			{
			 	using(MemoryStream stream = new MemoryStream(Cryptography.RijndaelDecrypt(data, passPhrase, initVector)))
				{
            		int _cmid = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);

					debugMessage = string.Format("cmid={0}", _cmid);
					using(MemoryStream returnData = new MemoryStream())
					{
		            	UberStrike.Core.Serialization.Int32Proxy.Serialize(returnData, 
		                	WebServiceLayerManager.ClanWebService.CanOwnAClan
		                	(
                    			_cmid
		               		)
		            	);
							
						return Cryptography.RijndaelEncrypt(returnData.ToArray(), passPhrase, initVector);
					}
				}
			
			}
			catch (System.Security.Cryptography.CryptographicException ex)
			{
				exceptionMessage = LogUtil.LogException(ex, data);
			}
			catch (System.Exception ex2)
			{
				exceptionMessage = LogUtil.LogException(ex2, debugMessage);
			}
			
			throw new Exception(exceptionMessage);
		}
		
		public byte[] test(byte[] data)
		{
			string exceptionMessage = System.String.Empty;
			string debugMessage = System.String.Empty;
			
			try
			{
					debugMessage = "";
					using(MemoryStream returnData = new MemoryStream())
					{
		            	UberStrike.Core.Serialization.Int32Proxy.Serialize(returnData, 
		                	WebServiceLayerManager.ClanWebService.test
		                	(
            			//no arguments
		               		)
		            	);
							
						return Cryptography.RijndaelEncrypt(returnData.ToArray(), passPhrase, initVector);
					}
			
			}
			catch (System.Security.Cryptography.CryptographicException ex)
			{
				exceptionMessage = LogUtil.LogException(ex, data);
			}
			catch (System.Exception ex2)
			{
				exceptionMessage = LogUtil.LogException(ex2, debugMessage);
			}
			
			throw new Exception(exceptionMessage);
		}
		
	}
	
	public class ModerationWebServiceContract : IModerationWebServiceContract
    {
		private string initVector;
		private string passPhrase;
	
		public ModerationWebServiceContract()
		{
		    initVector = Cmune.DataCenter.Utils.ConfigurationUtilities.ReadConfigurationManager(Cmune.DataCenter.Common.Entities.CommonAppSettings.InitVector);
            passPhrase = Cmune.DataCenter.Utils.ConfigurationUtilities.ReadConfigurationManager(Cmune.DataCenter.Common.Entities.CommonAppSettings.PassPhrase);
        }

		public byte[] BanPermanently(byte[] data)
		{
			string exceptionMessage = System.String.Empty;
			string debugMessage = System.String.Empty;
			
			try
			{
			 	using(MemoryStream stream = new MemoryStream(Cryptography.RijndaelDecrypt(data, passPhrase, initVector)))
				{
            		int _sourceCmid = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);
            		int _targetCmid = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);
            		int _applicationId = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);
            		string _ip = UberStrike.Core.Serialization.StringProxy.Deserialize(stream);

					debugMessage = string.Format("sourceCmid={0}&targetCmid={1}&applicationId={2}&ip={3}", _sourceCmid, _targetCmid, _applicationId, _ip);
					using(MemoryStream returnData = new MemoryStream())
					{
		            	UberStrike.Core.Serialization.BooleanProxy.Serialize(returnData, 
		                	WebServiceLayerManager.ModerationWebService.BanPermanently
		                	(
                    			_sourceCmid,
                    			_targetCmid,
                    			_applicationId,
                    			_ip
		               		)
		            	);
							
						return Cryptography.RijndaelEncrypt(returnData.ToArray(), passPhrase, initVector);
					}
				}
			
			}
			catch (System.Security.Cryptography.CryptographicException ex)
			{
				exceptionMessage = LogUtil.LogException(ex, data);
			}
			catch (System.Exception ex2)
			{
				exceptionMessage = LogUtil.LogException(ex2, debugMessage);
			}
			
			throw new Exception(exceptionMessage);
		}
		
	}
	
	public class PrivateMessageWebServiceContract : IPrivateMessageWebServiceContract
    {
		private string initVector;
		private string passPhrase;
	
		public PrivateMessageWebServiceContract()
		{
		    initVector = Cmune.DataCenter.Utils.ConfigurationUtilities.ReadConfigurationManager(Cmune.DataCenter.Common.Entities.CommonAppSettings.InitVector);
            passPhrase = Cmune.DataCenter.Utils.ConfigurationUtilities.ReadConfigurationManager(Cmune.DataCenter.Common.Entities.CommonAppSettings.PassPhrase);
        }

		public byte[] GetAllMessageThreadsForUser_1(byte[] data)
		{
			string exceptionMessage = System.String.Empty;
			string debugMessage = System.String.Empty;
			
			try
			{
			 	using(MemoryStream stream = new MemoryStream(Cryptography.RijndaelDecrypt(data, passPhrase, initVector)))
				{
            		int _cmid = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);

					debugMessage = string.Format("cmid={0}", _cmid);
					using(MemoryStream returnData = new MemoryStream())
					{
		            	UberStrike.Core.Serialization.ListProxy<Cmune.DataCenter.Common.Entities.MessageThreadView>.Serialize(returnData, 
		                	WebServiceLayerManager.PrivateMessageWebService.GetAllMessageThreadsForUser
		                	(
                    			_cmid
		               		), MessageThreadViewProxy.Serialize
		            	);
							
						return Cryptography.RijndaelEncrypt(returnData.ToArray(), passPhrase, initVector);
					}
				}
			
			}
			catch (System.Security.Cryptography.CryptographicException ex)
			{
				exceptionMessage = LogUtil.LogException(ex, data);
			}
			catch (System.Exception ex2)
			{
				exceptionMessage = LogUtil.LogException(ex2, debugMessage);
			}
			
			throw new Exception(exceptionMessage);
		}
		
		public byte[] GetAllMessageThreadsForUser_2(byte[] data)
		{
			string exceptionMessage = System.String.Empty;
			string debugMessage = System.String.Empty;
			
			try
			{
			 	using(MemoryStream stream = new MemoryStream(Cryptography.RijndaelDecrypt(data, passPhrase, initVector)))
				{
            		int _cmid = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);
            		int _pageNumber = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);

					debugMessage = string.Format("cmid={0}&pageNumber={1}", _cmid, _pageNumber);
					using(MemoryStream returnData = new MemoryStream())
					{
		            	UberStrike.Core.Serialization.ListProxy<Cmune.DataCenter.Common.Entities.MessageThreadView>.Serialize(returnData, 
		                	WebServiceLayerManager.PrivateMessageWebService.GetAllMessageThreadsForUser
		                	(
                    			_cmid,
                    			_pageNumber
		               		), MessageThreadViewProxy.Serialize
		            	);
							
						return Cryptography.RijndaelEncrypt(returnData.ToArray(), passPhrase, initVector);
					}
				}
			
			}
			catch (System.Security.Cryptography.CryptographicException ex)
			{
				exceptionMessage = LogUtil.LogException(ex, data);
			}
			catch (System.Exception ex2)
			{
				exceptionMessage = LogUtil.LogException(ex2, debugMessage);
			}
			
			throw new Exception(exceptionMessage);
		}
		
		public byte[] GetThreadMessages(byte[] data)
		{
			string exceptionMessage = System.String.Empty;
			string debugMessage = System.String.Empty;
			
			try
			{
			 	using(MemoryStream stream = new MemoryStream(Cryptography.RijndaelDecrypt(data, passPhrase, initVector)))
				{
            		int _threadViewerCmid = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);
            		int _otherCmid = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);
            		int _pageNumber = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);

					debugMessage = string.Format("threadViewerCmid={0}&otherCmid={1}&pageNumber={2}", _threadViewerCmid, _otherCmid, _pageNumber);
					using(MemoryStream returnData = new MemoryStream())
					{
		            	UberStrike.Core.Serialization.ListProxy<Cmune.DataCenter.Common.Entities.PrivateMessageView>.Serialize(returnData, 
		                	WebServiceLayerManager.PrivateMessageWebService.GetThreadMessages
		                	(
                    			_threadViewerCmid,
                    			_otherCmid,
                    			_pageNumber
		               		), PrivateMessageViewProxy.Serialize
		            	);
							
						return Cryptography.RijndaelEncrypt(returnData.ToArray(), passPhrase, initVector);
					}
				}
			
			}
			catch (System.Security.Cryptography.CryptographicException ex)
			{
				exceptionMessage = LogUtil.LogException(ex, data);
			}
			catch (System.Exception ex2)
			{
				exceptionMessage = LogUtil.LogException(ex2, debugMessage);
			}
			
			throw new Exception(exceptionMessage);
		}
		
		public byte[] SendMessage(byte[] data)
		{
			string exceptionMessage = System.String.Empty;
			string debugMessage = System.String.Empty;
			
			try
			{
			 	using(MemoryStream stream = new MemoryStream(Cryptography.RijndaelDecrypt(data, passPhrase, initVector)))
				{
            		int _senderCmid = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);
            		int _receiverCmid = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);
            		string _content = UberStrike.Core.Serialization.StringProxy.Deserialize(stream);

					debugMessage = string.Format("senderCmid={0}&receiverCmid={1}&content={2}", _senderCmid, _receiverCmid, _content);
					using(MemoryStream returnData = new MemoryStream())
					{
		            	UberStrike.Core.Serialization.PrivateMessageViewProxy.Serialize(returnData, 
		                	WebServiceLayerManager.PrivateMessageWebService.SendMessage
		                	(
                    			_senderCmid,
                    			_receiverCmid,
                    			_content
		               		)
		            	);
							
						return Cryptography.RijndaelEncrypt(returnData.ToArray(), passPhrase, initVector);
					}
				}
			
			}
			catch (System.Security.Cryptography.CryptographicException ex)
			{
				exceptionMessage = LogUtil.LogException(ex, data);
			}
			catch (System.Exception ex2)
			{
				exceptionMessage = LogUtil.LogException(ex2, debugMessage);
			}
			
			throw new Exception(exceptionMessage);
		}
		
		public byte[] GetMessageWithId(byte[] data)
		{
			string exceptionMessage = System.String.Empty;
			string debugMessage = System.String.Empty;
			
			try
			{
			 	using(MemoryStream stream = new MemoryStream(Cryptography.RijndaelDecrypt(data, passPhrase, initVector)))
				{
            		int _messageId = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);
            		int _requesterCmid = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);

					debugMessage = string.Format("messageId={0}&requesterCmid={1}", _messageId, _requesterCmid);
					using(MemoryStream returnData = new MemoryStream())
					{
		            	UberStrike.Core.Serialization.PrivateMessageViewProxy.Serialize(returnData, 
		                	WebServiceLayerManager.PrivateMessageWebService.GetMessageWithId
		                	(
                    			_messageId,
                    			_requesterCmid
		               		)
		            	);
							
						return Cryptography.RijndaelEncrypt(returnData.ToArray(), passPhrase, initVector);
					}
				}
			
			}
			catch (System.Security.Cryptography.CryptographicException ex)
			{
				exceptionMessage = LogUtil.LogException(ex, data);
			}
			catch (System.Exception ex2)
			{
				exceptionMessage = LogUtil.LogException(ex2, debugMessage);
			}
			
			throw new Exception(exceptionMessage);
		}
		
		public void MarkThreadAsRead(byte[] data)
		{
			string exceptionMessage = System.String.Empty;
			string debugMessage = System.String.Empty;
			
			try
			{
			 	using(MemoryStream stream = new MemoryStream(Cryptography.RijndaelDecrypt(data, passPhrase, initVector)))
				{
            		int _threadViewerCmid = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);
            		int _otherCmid = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);

					debugMessage = string.Format("threadViewerCmid={0}&otherCmid={1}", _threadViewerCmid, _otherCmid);
					WebServiceLayerManager.PrivateMessageWebService.MarkThreadAsRead
		            (
            				_threadViewerCmid,
            				_otherCmid
					);
				}
			
			}
			catch (System.Security.Cryptography.CryptographicException ex)
			{
				exceptionMessage = LogUtil.LogException(ex, data);
			}
			catch (System.Exception ex2)
			{
				exceptionMessage = LogUtil.LogException(ex2, debugMessage);
			}
		}
		
		public void DeleteThread(byte[] data)
		{
			string exceptionMessage = System.String.Empty;
			string debugMessage = System.String.Empty;
			
			try
			{
			 	using(MemoryStream stream = new MemoryStream(Cryptography.RijndaelDecrypt(data, passPhrase, initVector)))
				{
            		int _threadViewerCmid = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);
            		int _otherCmid = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);

					debugMessage = string.Format("threadViewerCmid={0}&otherCmid={1}", _threadViewerCmid, _otherCmid);
					WebServiceLayerManager.PrivateMessageWebService.DeleteThread
		            (
            				_threadViewerCmid,
            				_otherCmid
					);
				}
			
			}
			catch (System.Security.Cryptography.CryptographicException ex)
			{
				exceptionMessage = LogUtil.LogException(ex, data);
			}
			catch (System.Exception ex2)
			{
				exceptionMessage = LogUtil.LogException(ex2, debugMessage);
			}
		}
		
	}
	
	public class RelationshipWebServiceContract : IRelationshipWebServiceContract
    {
		private string initVector;
		private string passPhrase;
	
		public RelationshipWebServiceContract()
		{
		    initVector = Cmune.DataCenter.Utils.ConfigurationUtilities.ReadConfigurationManager(Cmune.DataCenter.Common.Entities.CommonAppSettings.InitVector);
            passPhrase = Cmune.DataCenter.Utils.ConfigurationUtilities.ReadConfigurationManager(Cmune.DataCenter.Common.Entities.CommonAppSettings.PassPhrase);
        }

		public byte[] SendContactRequest(byte[] data)
		{
			string exceptionMessage = System.String.Empty;
			string debugMessage = System.String.Empty;
			
			try
			{
			 	using(MemoryStream stream = new MemoryStream(Cryptography.RijndaelDecrypt(data, passPhrase, initVector)))
				{
            		int _initiatorCmid = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);
            		int _receiverCmid = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);
            		string _message = UberStrike.Core.Serialization.StringProxy.Deserialize(stream);

					debugMessage = string.Format("initiatorCmid={0}&receiverCmid={1}&message={2}", _initiatorCmid, _receiverCmid, _message);
					using(MemoryStream returnData = new MemoryStream())
					{
		            	UberStrike.Core.Serialization.Int32Proxy.Serialize(returnData, 
		                	WebServiceLayerManager.RelationshipWebService.SendContactRequest
		                	(
                    			_initiatorCmid,
                    			_receiverCmid,
                    			_message
		               		)
		            	);
							
						return Cryptography.RijndaelEncrypt(returnData.ToArray(), passPhrase, initVector);
					}
				}
			
			}
			catch (System.Security.Cryptography.CryptographicException ex)
			{
				exceptionMessage = LogUtil.LogException(ex, data);
			}
			catch (System.Exception ex2)
			{
				exceptionMessage = LogUtil.LogException(ex2, debugMessage);
			}
			
			throw new Exception(exceptionMessage);
		}
		
		public byte[] GetContactRequests(byte[] data)
		{
			string exceptionMessage = System.String.Empty;
			string debugMessage = System.String.Empty;
			
			try
			{
			 	using(MemoryStream stream = new MemoryStream(Cryptography.RijndaelDecrypt(data, passPhrase, initVector)))
				{
            		int _cmid = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);

					debugMessage = string.Format("cmid={0}", _cmid);
					using(MemoryStream returnData = new MemoryStream())
					{
		            	UberStrike.Core.Serialization.ListProxy<Cmune.DataCenter.Common.Entities.ContactRequestView>.Serialize(returnData, 
		                	WebServiceLayerManager.RelationshipWebService.GetContactRequests
		                	(
                    			_cmid
		               		), ContactRequestViewProxy.Serialize
		            	);
							
						return Cryptography.RijndaelEncrypt(returnData.ToArray(), passPhrase, initVector);
					}
				}
			
			}
			catch (System.Security.Cryptography.CryptographicException ex)
			{
				exceptionMessage = LogUtil.LogException(ex, data);
			}
			catch (System.Exception ex2)
			{
				exceptionMessage = LogUtil.LogException(ex2, debugMessage);
			}
			
			throw new Exception(exceptionMessage);
		}
		
		public byte[] AcceptContactRequest(byte[] data)
		{
			string exceptionMessage = System.String.Empty;
			string debugMessage = System.String.Empty;
			
			try
			{
			 	using(MemoryStream stream = new MemoryStream(Cryptography.RijndaelDecrypt(data, passPhrase, initVector)))
				{
            		int _contactRequestId = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);
            		int _cmid = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);
            		int _applicationId = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);

					debugMessage = string.Format("contactRequestId={0}&cmid={1}&applicationId={2}", _contactRequestId, _cmid, _applicationId);
					using(MemoryStream returnData = new MemoryStream())
					{
		            	UberStrike.Core.Serialization.ContactRequestAcceptViewProxy.Serialize(returnData, 
		                	WebServiceLayerManager.RelationshipWebService.AcceptContactRequest
		                	(
                    			_contactRequestId,
                    			_cmid,
                    			_applicationId
		               		)
		            	);
							
						return Cryptography.RijndaelEncrypt(returnData.ToArray(), passPhrase, initVector);
					}
				}
			
			}
			catch (System.Security.Cryptography.CryptographicException ex)
			{
				exceptionMessage = LogUtil.LogException(ex, data);
			}
			catch (System.Exception ex2)
			{
				exceptionMessage = LogUtil.LogException(ex2, debugMessage);
			}
			
			throw new Exception(exceptionMessage);
		}
		
		public byte[] DeclineContactRequest(byte[] data)
		{
			string exceptionMessage = System.String.Empty;
			string debugMessage = System.String.Empty;
			
			try
			{
			 	using(MemoryStream stream = new MemoryStream(Cryptography.RijndaelDecrypt(data, passPhrase, initVector)))
				{
            		int _contactRequestId = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);
            		int _cmid = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);

					debugMessage = string.Format("contactRequestId={0}&cmid={1}", _contactRequestId, _cmid);
					using(MemoryStream returnData = new MemoryStream())
					{
		            	UberStrike.Core.Serialization.ContactRequestDeclineViewProxy.Serialize(returnData, 
		                	WebServiceLayerManager.RelationshipWebService.DeclineContactRequest
		                	(
                    			_contactRequestId,
                    			_cmid
		               		)
		            	);
							
						return Cryptography.RijndaelEncrypt(returnData.ToArray(), passPhrase, initVector);
					}
				}
			
			}
			catch (System.Security.Cryptography.CryptographicException ex)
			{
				exceptionMessage = LogUtil.LogException(ex, data);
			}
			catch (System.Exception ex2)
			{
				exceptionMessage = LogUtil.LogException(ex2, debugMessage);
			}
			
			throw new Exception(exceptionMessage);
		}
		
		public byte[] DeleteContact(byte[] data)
		{
			string exceptionMessage = System.String.Empty;
			string debugMessage = System.String.Empty;
			
			try
			{
			 	using(MemoryStream stream = new MemoryStream(Cryptography.RijndaelDecrypt(data, passPhrase, initVector)))
				{
            		int _cmid = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);
            		int _contactCmid = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);

					debugMessage = string.Format("cmid={0}&contactCmid={1}", _cmid, _contactCmid);
					using(MemoryStream returnData = new MemoryStream())
					{
		            	UberStrike.Core.Serialization.EnumProxy<Cmune.DataCenter.Common.Entities.MemberOperationResult>.Serialize(returnData, 
		                	WebServiceLayerManager.RelationshipWebService.DeleteContact
		                	(
                    			_cmid,
                    			_contactCmid
		               		)
		            	);
							
						return Cryptography.RijndaelEncrypt(returnData.ToArray(), passPhrase, initVector);
					}
				}
			
			}
			catch (System.Security.Cryptography.CryptographicException ex)
			{
				exceptionMessage = LogUtil.LogException(ex, data);
			}
			catch (System.Exception ex2)
			{
				exceptionMessage = LogUtil.LogException(ex2, debugMessage);
			}
			
			throw new Exception(exceptionMessage);
		}
		
		public byte[] MoveContactToGroup(byte[] data)
		{
			string exceptionMessage = System.String.Empty;
			string debugMessage = System.String.Empty;
			
			try
			{
			 	using(MemoryStream stream = new MemoryStream(Cryptography.RijndaelDecrypt(data, passPhrase, initVector)))
				{
            		int _cmid = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);
            		int _contactCmid = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);
            		int _previousGroupId = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);
            		int _newGroupId = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);

					debugMessage = string.Format("cmid={0}&contactCmid={1}&previousGroupId={2}&newGroupId={3}", _cmid, _contactCmid, _previousGroupId, _newGroupId);
					using(MemoryStream returnData = new MemoryStream())
					{
		            	UberStrike.Core.Serialization.EnumProxy<Cmune.DataCenter.Common.Entities.MemberOperationResult>.Serialize(returnData, 
		                	WebServiceLayerManager.RelationshipWebService.MoveContactToGroup
		                	(
                    			_cmid,
                    			_contactCmid,
                    			_previousGroupId,
                    			_newGroupId
		               		)
		            	);
							
						return Cryptography.RijndaelEncrypt(returnData.ToArray(), passPhrase, initVector);
					}
				}
			
			}
			catch (System.Security.Cryptography.CryptographicException ex)
			{
				exceptionMessage = LogUtil.LogException(ex, data);
			}
			catch (System.Exception ex2)
			{
				exceptionMessage = LogUtil.LogException(ex2, debugMessage);
			}
			
			throw new Exception(exceptionMessage);
		}
		
		public byte[] GetContactsByGroups(byte[] data)
		{
			string exceptionMessage = System.String.Empty;
			string debugMessage = System.String.Empty;
			
			try
			{
			 	using(MemoryStream stream = new MemoryStream(Cryptography.RijndaelDecrypt(data, passPhrase, initVector)))
				{
            		int _cmid = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);
            		int _applicationId = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);

					debugMessage = string.Format("cmid={0}&applicationId={1}", _cmid, _applicationId);
					using(MemoryStream returnData = new MemoryStream())
					{
		            	UberStrike.Core.Serialization.ListProxy<Cmune.DataCenter.Common.Entities.ContactGroupView>.Serialize(returnData, 
		                	WebServiceLayerManager.RelationshipWebService.GetContactsByGroups
		                	(
                    			_cmid,
                    			_applicationId
		               		), ContactGroupViewProxy.Serialize
		            	);
							
						return Cryptography.RijndaelEncrypt(returnData.ToArray(), passPhrase, initVector);
					}
				}
			
			}
			catch (System.Security.Cryptography.CryptographicException ex)
			{
				exceptionMessage = LogUtil.LogException(ex, data);
			}
			catch (System.Exception ex2)
			{
				exceptionMessage = LogUtil.LogException(ex2, debugMessage);
			}
			
			throw new Exception(exceptionMessage);
		}
		
	}
	
	public class ShopWebServiceContract : IShopWebServiceContract
    {
		private string initVector;
		private string passPhrase;
	
		public ShopWebServiceContract()
		{
		    initVector = Cmune.DataCenter.Utils.ConfigurationUtilities.ReadConfigurationManager(Cmune.DataCenter.Common.Entities.CommonAppSettings.InitVector);
            passPhrase = Cmune.DataCenter.Utils.ConfigurationUtilities.ReadConfigurationManager(Cmune.DataCenter.Common.Entities.CommonAppSettings.PassPhrase);
        }

		public byte[] GetShop(byte[] data)
		{
			string exceptionMessage = System.String.Empty;
			string debugMessage = System.String.Empty;
			
			try
			{
			 	using(MemoryStream stream = new MemoryStream(Cryptography.RijndaelDecrypt(data, passPhrase, initVector)))
				{
            		string _applicationVersion = UberStrike.Core.Serialization.StringProxy.Deserialize(stream);

					debugMessage = string.Format("applicationVersion={0}", _applicationVersion);
					using(MemoryStream returnData = new MemoryStream())
					{
		            	UberStrike.Core.Serialization.UberStrikeItemShopClientViewProxy.Serialize(returnData, 
		                	WebServiceLayerManager.ShopWebService.GetShop
		                	(
                    			_applicationVersion
		               		)
		            	);
							
						return Cryptography.RijndaelEncrypt(returnData.ToArray(), passPhrase, initVector);
					}
				}
			
			}
			catch (System.Security.Cryptography.CryptographicException ex)
			{
				exceptionMessage = LogUtil.LogException(ex, data);
			}
			catch (System.Exception ex2)
			{
				exceptionMessage = LogUtil.LogException(ex2, debugMessage);
			}
			
			throw new Exception(exceptionMessage);
		}
		
		public byte[] BuyItem(byte[] data)
		{
			string exceptionMessage = System.String.Empty;
			string debugMessage = System.String.Empty;
			
			try
			{
			 	using(MemoryStream stream = new MemoryStream(Cryptography.RijndaelDecrypt(data, passPhrase, initVector)))
				{
            		int _itemId = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);
            		int _buyerCmid = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);
            		Cmune.DataCenter.Common.Entities.UberStrikeCurrencyType _currencyType = UberStrike.Core.Serialization.EnumProxy<Cmune.DataCenter.Common.Entities.UberStrikeCurrencyType>.Deserialize(stream);
            		Cmune.DataCenter.Common.Entities.BuyingDurationType _durationType = UberStrike.Core.Serialization.EnumProxy<Cmune.DataCenter.Common.Entities.BuyingDurationType>.Deserialize(stream);
            		UberStrike.Core.Types.UberstrikeItemType _itemType = UberStrike.Core.Serialization.EnumProxy<UberStrike.Core.Types.UberstrikeItemType>.Deserialize(stream);
            		Cmune.DataCenter.Common.Entities.BuyingLocationType _marketLocation = UberStrike.Core.Serialization.EnumProxy<Cmune.DataCenter.Common.Entities.BuyingLocationType>.Deserialize(stream);
            		Cmune.DataCenter.Common.Entities.BuyingRecommendationType _recommendationType = UberStrike.Core.Serialization.EnumProxy<Cmune.DataCenter.Common.Entities.BuyingRecommendationType>.Deserialize(stream);

					debugMessage = string.Format("itemId={0}&buyerCmid={1}&currencyType={2}&durationType={3}&itemType={4}&marketLocation={5}&recommendationType={6}", _itemId, _buyerCmid, _currencyType, _durationType, _itemType, _marketLocation, _recommendationType);
					using(MemoryStream returnData = new MemoryStream())
					{
		            	UberStrike.Core.Serialization.Int32Proxy.Serialize(returnData, 
		                	WebServiceLayerManager.ShopWebService.BuyItem
		                	(
                    			_itemId,
                    			_buyerCmid,
                    			_currencyType,
                    			_durationType,
                    			_itemType,
                    			_marketLocation,
                    			_recommendationType
		               		)
		            	);
							
						return Cryptography.RijndaelEncrypt(returnData.ToArray(), passPhrase, initVector);
					}
				}
			
			}
			catch (System.Security.Cryptography.CryptographicException ex)
			{
				exceptionMessage = LogUtil.LogException(ex, data);
			}
			catch (System.Exception ex2)
			{
				exceptionMessage = LogUtil.LogException(ex2, debugMessage);
			}
			
			throw new Exception(exceptionMessage);
		}
		
		public byte[] BuyPack(byte[] data)
		{
			string exceptionMessage = System.String.Empty;
			string debugMessage = System.String.Empty;
			
			try
			{
			 	using(MemoryStream stream = new MemoryStream(Cryptography.RijndaelDecrypt(data, passPhrase, initVector)))
				{
            		int _itemId = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);
            		int _buyerCmid = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);
            		Cmune.DataCenter.Common.Entities.PackType _packType = UberStrike.Core.Serialization.EnumProxy<Cmune.DataCenter.Common.Entities.PackType>.Deserialize(stream);
            		Cmune.DataCenter.Common.Entities.UberStrikeCurrencyType _currencyType = UberStrike.Core.Serialization.EnumProxy<Cmune.DataCenter.Common.Entities.UberStrikeCurrencyType>.Deserialize(stream);
            		UberStrike.Core.Types.UberstrikeItemType _itemType = UberStrike.Core.Serialization.EnumProxy<UberStrike.Core.Types.UberstrikeItemType>.Deserialize(stream);
            		Cmune.DataCenter.Common.Entities.BuyingLocationType _marketLocation = UberStrike.Core.Serialization.EnumProxy<Cmune.DataCenter.Common.Entities.BuyingLocationType>.Deserialize(stream);
            		Cmune.DataCenter.Common.Entities.BuyingRecommendationType _recommendationType = UberStrike.Core.Serialization.EnumProxy<Cmune.DataCenter.Common.Entities.BuyingRecommendationType>.Deserialize(stream);

					debugMessage = string.Format("itemId={0}&buyerCmid={1}&packType={2}&currencyType={3}&itemType={4}&marketLocation={5}&recommendationType={6}", _itemId, _buyerCmid, _packType, _currencyType, _itemType, _marketLocation, _recommendationType);
					using(MemoryStream returnData = new MemoryStream())
					{
		            	UberStrike.Core.Serialization.Int32Proxy.Serialize(returnData, 
		                	WebServiceLayerManager.ShopWebService.BuyPack
		                	(
                    			_itemId,
                    			_buyerCmid,
                    			_packType,
                    			_currencyType,
                    			_itemType,
                    			_marketLocation,
                    			_recommendationType
		               		)
		            	);
							
						return Cryptography.RijndaelEncrypt(returnData.ToArray(), passPhrase, initVector);
					}
				}
			
			}
			catch (System.Security.Cryptography.CryptographicException ex)
			{
				exceptionMessage = LogUtil.LogException(ex, data);
			}
			catch (System.Exception ex2)
			{
				exceptionMessage = LogUtil.LogException(ex2, debugMessage);
			}
			
			throw new Exception(exceptionMessage);
		}
		
		public byte[] GetBundles(byte[] data)
		{
			string exceptionMessage = System.String.Empty;
			string debugMessage = System.String.Empty;
			
			try
			{
			 	using(MemoryStream stream = new MemoryStream(Cryptography.RijndaelDecrypt(data, passPhrase, initVector)))
				{
            		Cmune.DataCenter.Common.Entities.ChannelType _channel = UberStrike.Core.Serialization.EnumProxy<Cmune.DataCenter.Common.Entities.ChannelType>.Deserialize(stream);

					debugMessage = string.Format("channel={0}", _channel);
					using(MemoryStream returnData = new MemoryStream())
					{
		            	UberStrike.Core.Serialization.ListProxy<Cmune.DataCenter.Common.Entities.BundleView>.Serialize(returnData, 
		                	WebServiceLayerManager.ShopWebService.GetBundles
		                	(
                    			_channel
		               		), BundleViewProxy.Serialize
		            	);
							
						return Cryptography.RijndaelEncrypt(returnData.ToArray(), passPhrase, initVector);
					}
				}
			
			}
			catch (System.Security.Cryptography.CryptographicException ex)
			{
				exceptionMessage = LogUtil.LogException(ex, data);
			}
			catch (System.Exception ex2)
			{
				exceptionMessage = LogUtil.LogException(ex2, debugMessage);
			}
			
			throw new Exception(exceptionMessage);
		}
		
		public byte[] BuyMasBundle(byte[] data)
		{
			string exceptionMessage = System.String.Empty;
			string debugMessage = System.String.Empty;
			
			try
			{
			 	using(MemoryStream stream = new MemoryStream(Cryptography.RijndaelDecrypt(data, passPhrase, initVector)))
				{
            		int _cmid = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);
            		int _bundleId = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);
            		string _hashedReceipt = UberStrike.Core.Serialization.StringProxy.Deserialize(stream);
            		int _applicationId = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);

					debugMessage = string.Format("cmid={0}&bundleId={1}&hashedReceipt={2}&applicationId={3}", _cmid, _bundleId, _hashedReceipt, _applicationId);
					using(MemoryStream returnData = new MemoryStream())
					{
		            	UberStrike.Core.Serialization.BooleanProxy.Serialize(returnData, 
		                	WebServiceLayerManager.ShopWebService.BuyMasBundle
		                	(
                    			_cmid,
                    			_bundleId,
                    			_hashedReceipt,
                    			_applicationId
		               		)
		            	);
							
						return Cryptography.RijndaelEncrypt(returnData.ToArray(), passPhrase, initVector);
					}
				}
			
			}
			catch (System.Security.Cryptography.CryptographicException ex)
			{
				exceptionMessage = LogUtil.LogException(ex, data);
			}
			catch (System.Exception ex2)
			{
				exceptionMessage = LogUtil.LogException(ex2, debugMessage);
			}
			
			throw new Exception(exceptionMessage);
		}
		
		public byte[] BuyiPadBundle(byte[] data)
		{
			string exceptionMessage = System.String.Empty;
			string debugMessage = System.String.Empty;
			
			try
			{
			 	using(MemoryStream stream = new MemoryStream(Cryptography.RijndaelDecrypt(data, passPhrase, initVector)))
				{
            		int _cmid = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);
            		int _bundleId = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);
            		string _hashedReceipt = UberStrike.Core.Serialization.StringProxy.Deserialize(stream);
            		int _applicationId = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);

					debugMessage = string.Format("cmid={0}&bundleId={1}&hashedReceipt={2}&applicationId={3}", _cmid, _bundleId, _hashedReceipt, _applicationId);
					using(MemoryStream returnData = new MemoryStream())
					{
		            	UberStrike.Core.Serialization.BooleanProxy.Serialize(returnData, 
		                	WebServiceLayerManager.ShopWebService.BuyiPadBundle
		                	(
                    			_cmid,
                    			_bundleId,
                    			_hashedReceipt,
                    			_applicationId
		               		)
		            	);
							
						return Cryptography.RijndaelEncrypt(returnData.ToArray(), passPhrase, initVector);
					}
				}
			
			}
			catch (System.Security.Cryptography.CryptographicException ex)
			{
				exceptionMessage = LogUtil.LogException(ex, data);
			}
			catch (System.Exception ex2)
			{
				exceptionMessage = LogUtil.LogException(ex2, debugMessage);
			}
			
			throw new Exception(exceptionMessage);
		}
		
		public byte[] BuyiPhoneBundle(byte[] data)
		{
			string exceptionMessage = System.String.Empty;
			string debugMessage = System.String.Empty;
			
			try
			{
			 	using(MemoryStream stream = new MemoryStream(Cryptography.RijndaelDecrypt(data, passPhrase, initVector)))
				{
            		int _cmid = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);
            		int _bundleId = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);
            		string _hashedReceipt = UberStrike.Core.Serialization.StringProxy.Deserialize(stream);
            		int _applicationId = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);

					debugMessage = string.Format("cmid={0}&bundleId={1}&hashedReceipt={2}&applicationId={3}", _cmid, _bundleId, _hashedReceipt, _applicationId);
					using(MemoryStream returnData = new MemoryStream())
					{
		            	UberStrike.Core.Serialization.BooleanProxy.Serialize(returnData, 
		                	WebServiceLayerManager.ShopWebService.BuyiPhoneBundle
		                	(
                    			_cmid,
                    			_bundleId,
                    			_hashedReceipt,
                    			_applicationId
		               		)
		            	);
							
						return Cryptography.RijndaelEncrypt(returnData.ToArray(), passPhrase, initVector);
					}
				}
			
			}
			catch (System.Security.Cryptography.CryptographicException ex)
			{
				exceptionMessage = LogUtil.LogException(ex, data);
			}
			catch (System.Exception ex2)
			{
				exceptionMessage = LogUtil.LogException(ex2, debugMessage);
			}
			
			throw new Exception(exceptionMessage);
		}
		
		public byte[] UseConsumableItem(byte[] data)
		{
			string exceptionMessage = System.String.Empty;
			string debugMessage = System.String.Empty;
			
			try
			{
			 	using(MemoryStream stream = new MemoryStream(Cryptography.RijndaelDecrypt(data, passPhrase, initVector)))
				{
            		int _cmid = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);
            		int _itemId = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);

					debugMessage = string.Format("cmid={0}&itemId={1}", _cmid, _itemId);
					using(MemoryStream returnData = new MemoryStream())
					{
		            	UberStrike.Core.Serialization.BooleanProxy.Serialize(returnData, 
		                	WebServiceLayerManager.ShopWebService.UseConsumableItem
		                	(
                    			_cmid,
                    			_itemId
		               		)
		            	);
							
						return Cryptography.RijndaelEncrypt(returnData.ToArray(), passPhrase, initVector);
					}
				}
			
			}
			catch (System.Security.Cryptography.CryptographicException ex)
			{
				exceptionMessage = LogUtil.LogException(ex, data);
			}
			catch (System.Exception ex2)
			{
				exceptionMessage = LogUtil.LogException(ex2, debugMessage);
			}
			
			throw new Exception(exceptionMessage);
		}
		
		public byte[] GetAllMysteryBoxs_1(byte[] data)
		{
			string exceptionMessage = System.String.Empty;
			string debugMessage = System.String.Empty;
			
			try
			{
					debugMessage = "";
					using(MemoryStream returnData = new MemoryStream())
					{
		            	UberStrike.Core.Serialization.ListProxy<Cmune.DataCenter.Common.Entities.MysteryBoxUnityView>.Serialize(returnData, 
		                	WebServiceLayerManager.ShopWebService.GetAllMysteryBoxs
		                	(
            			//no arguments
		               		), MysteryBoxUnityViewProxy.Serialize
		            	);
							
						return Cryptography.RijndaelEncrypt(returnData.ToArray(), passPhrase, initVector);
					}
			
			}
			catch (System.Security.Cryptography.CryptographicException ex)
			{
				exceptionMessage = LogUtil.LogException(ex, data);
			}
			catch (System.Exception ex2)
			{
				exceptionMessage = LogUtil.LogException(ex2, debugMessage);
			}
			
			throw new Exception(exceptionMessage);
		}
		
		public byte[] GetAllMysteryBoxs_2(byte[] data)
		{
			string exceptionMessage = System.String.Empty;
			string debugMessage = System.String.Empty;
			
			try
			{
			 	using(MemoryStream stream = new MemoryStream(Cryptography.RijndaelDecrypt(data, passPhrase, initVector)))
				{
            		Cmune.DataCenter.Common.Entities.BundleCategoryType _bundleCategoryType = UberStrike.Core.Serialization.EnumProxy<Cmune.DataCenter.Common.Entities.BundleCategoryType>.Deserialize(stream);

					debugMessage = string.Format("bundleCategoryType={0}", _bundleCategoryType);
					using(MemoryStream returnData = new MemoryStream())
					{
		            	UberStrike.Core.Serialization.ListProxy<Cmune.DataCenter.Common.Entities.MysteryBoxUnityView>.Serialize(returnData, 
		                	WebServiceLayerManager.ShopWebService.GetAllMysteryBoxs
		                	(
                    			_bundleCategoryType
		               		), MysteryBoxUnityViewProxy.Serialize
		            	);
							
						return Cryptography.RijndaelEncrypt(returnData.ToArray(), passPhrase, initVector);
					}
				}
			
			}
			catch (System.Security.Cryptography.CryptographicException ex)
			{
				exceptionMessage = LogUtil.LogException(ex, data);
			}
			catch (System.Exception ex2)
			{
				exceptionMessage = LogUtil.LogException(ex2, debugMessage);
			}
			
			throw new Exception(exceptionMessage);
		}
		
		public byte[] GetMysteryBox(byte[] data)
		{
			string exceptionMessage = System.String.Empty;
			string debugMessage = System.String.Empty;
			
			try
			{
			 	using(MemoryStream stream = new MemoryStream(Cryptography.RijndaelDecrypt(data, passPhrase, initVector)))
				{
            		int _mysteryBoxId = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);

					debugMessage = string.Format("mysteryBoxId={0}", _mysteryBoxId);
					using(MemoryStream returnData = new MemoryStream())
					{
		            	UberStrike.Core.Serialization.MysteryBoxUnityViewProxy.Serialize(returnData, 
		                	WebServiceLayerManager.ShopWebService.GetMysteryBox
		                	(
                    			_mysteryBoxId
		               		)
		            	);
							
						return Cryptography.RijndaelEncrypt(returnData.ToArray(), passPhrase, initVector);
					}
				}
			
			}
			catch (System.Security.Cryptography.CryptographicException ex)
			{
				exceptionMessage = LogUtil.LogException(ex, data);
			}
			catch (System.Exception ex2)
			{
				exceptionMessage = LogUtil.LogException(ex2, debugMessage);
			}
			
			throw new Exception(exceptionMessage);
		}
		
		public byte[] RollMysteryBox(byte[] data)
		{
			string exceptionMessage = System.String.Empty;
			string debugMessage = System.String.Empty;
			
			try
			{
			 	using(MemoryStream stream = new MemoryStream(Cryptography.RijndaelDecrypt(data, passPhrase, initVector)))
				{
            		int _cmid = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);
            		int _mysteryBoxId = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);
            		Cmune.DataCenter.Common.Entities.ChannelType _channel = UberStrike.Core.Serialization.EnumProxy<Cmune.DataCenter.Common.Entities.ChannelType>.Deserialize(stream);

					debugMessage = string.Format("cmid={0}&mysteryBoxId={1}&channel={2}", _cmid, _mysteryBoxId, _channel);
					using(MemoryStream returnData = new MemoryStream())
					{
		            	UberStrike.Core.Serialization.ListProxy<Cmune.DataCenter.Common.Entities.MysteryBoxWonItemUnityView>.Serialize(returnData, 
		                	WebServiceLayerManager.ShopWebService.RollMysteryBox
		                	(
                    			_cmid,
                    			_mysteryBoxId,
                    			_channel
		               		), MysteryBoxWonItemUnityViewProxy.Serialize
		            	);
							
						return Cryptography.RijndaelEncrypt(returnData.ToArray(), passPhrase, initVector);
					}
				}
			
			}
			catch (System.Security.Cryptography.CryptographicException ex)
			{
				exceptionMessage = LogUtil.LogException(ex, data);
			}
			catch (System.Exception ex2)
			{
				exceptionMessage = LogUtil.LogException(ex2, debugMessage);
			}
			
			throw new Exception(exceptionMessage);
		}
		
		public byte[] GetAllLuckyDraws_1(byte[] data)
		{
			string exceptionMessage = System.String.Empty;
			string debugMessage = System.String.Empty;
			
			try
			{
					debugMessage = "";
					using(MemoryStream returnData = new MemoryStream())
					{
		            	UberStrike.Core.Serialization.ListProxy<Cmune.DataCenter.Common.Entities.LuckyDrawUnityView>.Serialize(returnData, 
		                	WebServiceLayerManager.ShopWebService.GetAllLuckyDraws
		                	(
            			//no arguments
		               		), LuckyDrawUnityViewProxy.Serialize
		            	);
							
						return Cryptography.RijndaelEncrypt(returnData.ToArray(), passPhrase, initVector);
					}
			
			}
			catch (System.Security.Cryptography.CryptographicException ex)
			{
				exceptionMessage = LogUtil.LogException(ex, data);
			}
			catch (System.Exception ex2)
			{
				exceptionMessage = LogUtil.LogException(ex2, debugMessage);
			}
			
			throw new Exception(exceptionMessage);
		}
		
		public byte[] GetAllLuckyDraws_2(byte[] data)
		{
			string exceptionMessage = System.String.Empty;
			string debugMessage = System.String.Empty;
			
			try
			{
			 	using(MemoryStream stream = new MemoryStream(Cryptography.RijndaelDecrypt(data, passPhrase, initVector)))
				{
            		Cmune.DataCenter.Common.Entities.BundleCategoryType _bundleCategoryType = UberStrike.Core.Serialization.EnumProxy<Cmune.DataCenter.Common.Entities.BundleCategoryType>.Deserialize(stream);

					debugMessage = string.Format("bundleCategoryType={0}", _bundleCategoryType);
					using(MemoryStream returnData = new MemoryStream())
					{
		            	UberStrike.Core.Serialization.ListProxy<Cmune.DataCenter.Common.Entities.LuckyDrawUnityView>.Serialize(returnData, 
		                	WebServiceLayerManager.ShopWebService.GetAllLuckyDraws
		                	(
                    			_bundleCategoryType
		               		), LuckyDrawUnityViewProxy.Serialize
		            	);
							
						return Cryptography.RijndaelEncrypt(returnData.ToArray(), passPhrase, initVector);
					}
				}
			
			}
			catch (System.Security.Cryptography.CryptographicException ex)
			{
				exceptionMessage = LogUtil.LogException(ex, data);
			}
			catch (System.Exception ex2)
			{
				exceptionMessage = LogUtil.LogException(ex2, debugMessage);
			}
			
			throw new Exception(exceptionMessage);
		}
		
		public byte[] GetLuckyDraw(byte[] data)
		{
			string exceptionMessage = System.String.Empty;
			string debugMessage = System.String.Empty;
			
			try
			{
			 	using(MemoryStream stream = new MemoryStream(Cryptography.RijndaelDecrypt(data, passPhrase, initVector)))
				{
            		int _luckyDrawId = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);

					debugMessage = string.Format("luckyDrawId={0}", _luckyDrawId);
					using(MemoryStream returnData = new MemoryStream())
					{
		            	UberStrike.Core.Serialization.LuckyDrawUnityViewProxy.Serialize(returnData, 
		                	WebServiceLayerManager.ShopWebService.GetLuckyDraw
		                	(
                    			_luckyDrawId
		               		)
		            	);
							
						return Cryptography.RijndaelEncrypt(returnData.ToArray(), passPhrase, initVector);
					}
				}
			
			}
			catch (System.Security.Cryptography.CryptographicException ex)
			{
				exceptionMessage = LogUtil.LogException(ex, data);
			}
			catch (System.Exception ex2)
			{
				exceptionMessage = LogUtil.LogException(ex2, debugMessage);
			}
			
			throw new Exception(exceptionMessage);
		}
		
		public byte[] RollLuckyDraw(byte[] data)
		{
			string exceptionMessage = System.String.Empty;
			string debugMessage = System.String.Empty;
			
			try
			{
			 	using(MemoryStream stream = new MemoryStream(Cryptography.RijndaelDecrypt(data, passPhrase, initVector)))
				{
            		int _cmid = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);
            		int _luckDrawId = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);
            		Cmune.DataCenter.Common.Entities.ChannelType _channel = UberStrike.Core.Serialization.EnumProxy<Cmune.DataCenter.Common.Entities.ChannelType>.Deserialize(stream);

					debugMessage = string.Format("cmid={0}&luckDrawId={1}&channel={2}", _cmid, _luckDrawId, _channel);
					using(MemoryStream returnData = new MemoryStream())
					{
		            	UberStrike.Core.Serialization.Int32Proxy.Serialize(returnData, 
		                	WebServiceLayerManager.ShopWebService.RollLuckyDraw
		                	(
                    			_cmid,
                    			_luckDrawId,
                    			_channel
		               		)
		            	);
							
						return Cryptography.RijndaelEncrypt(returnData.ToArray(), passPhrase, initVector);
					}
				}
			
			}
			catch (System.Security.Cryptography.CryptographicException ex)
			{
				exceptionMessage = LogUtil.LogException(ex, data);
			}
			catch (System.Exception ex2)
			{
				exceptionMessage = LogUtil.LogException(ex2, debugMessage);
			}
			
			throw new Exception(exceptionMessage);
		}
		
	}
	
	public class UserWebServiceContract : IUserWebServiceContract
    {
		private string initVector;
		private string passPhrase;
	
		public UserWebServiceContract()
		{
		    initVector = Cmune.DataCenter.Utils.ConfigurationUtilities.ReadConfigurationManager(Cmune.DataCenter.Common.Entities.CommonAppSettings.InitVector);
            passPhrase = Cmune.DataCenter.Utils.ConfigurationUtilities.ReadConfigurationManager(Cmune.DataCenter.Common.Entities.CommonAppSettings.PassPhrase);
        }

		public byte[] ChangeMemberName(byte[] data)
		{
			string exceptionMessage = System.String.Empty;
			string debugMessage = System.String.Empty;
			
			try
			{
			 	using(MemoryStream stream = new MemoryStream(Cryptography.RijndaelDecrypt(data, passPhrase, initVector)))
				{
            		int _cmid = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);
            		string _name = UberStrike.Core.Serialization.StringProxy.Deserialize(stream);
            		string _locale = UberStrike.Core.Serialization.StringProxy.Deserialize(stream);
            		string _machineId = UberStrike.Core.Serialization.StringProxy.Deserialize(stream);

					debugMessage = string.Format("cmid={0}&name={1}&locale={2}&machineId={3}", _cmid, _name, _locale, _machineId);
					using(MemoryStream returnData = new MemoryStream())
					{
		            	UberStrike.Core.Serialization.EnumProxy<Cmune.DataCenter.Common.Entities.MemberOperationResult>.Serialize(returnData, 
		                	WebServiceLayerManager.UserWebService.ChangeMemberName
		                	(
                    			_cmid,
                    			_name,
                    			_locale,
                    			_machineId
		               		)
		            	);
							
						return Cryptography.RijndaelEncrypt(returnData.ToArray(), passPhrase, initVector);
					}
				}
			
			}
			catch (System.Security.Cryptography.CryptographicException ex)
			{
				exceptionMessage = LogUtil.LogException(ex, data);
			}
			catch (System.Exception ex2)
			{
				exceptionMessage = LogUtil.LogException(ex2, debugMessage);
			}
			
			throw new Exception(exceptionMessage);
		}
		
		public byte[] IsDuplicateMemberName(byte[] data)
		{
			string exceptionMessage = System.String.Empty;
			string debugMessage = System.String.Empty;
			
			try
			{
			 	using(MemoryStream stream = new MemoryStream(Cryptography.RijndaelDecrypt(data, passPhrase, initVector)))
				{
            		string _username = UberStrike.Core.Serialization.StringProxy.Deserialize(stream);

					debugMessage = string.Format("username={0}", _username);
					using(MemoryStream returnData = new MemoryStream())
					{
		            	UberStrike.Core.Serialization.BooleanProxy.Serialize(returnData, 
		                	WebServiceLayerManager.UserWebService.IsDuplicateMemberName
		                	(
                    			_username
		               		)
		            	);
							
						return Cryptography.RijndaelEncrypt(returnData.ToArray(), passPhrase, initVector);
					}
				}
			
			}
			catch (System.Security.Cryptography.CryptographicException ex)
			{
				exceptionMessage = LogUtil.LogException(ex, data);
			}
			catch (System.Exception ex2)
			{
				exceptionMessage = LogUtil.LogException(ex2, debugMessage);
			}
			
			throw new Exception(exceptionMessage);
		}
		
		public byte[] GenerateNonDuplicatedMemberNames(byte[] data)
		{
			string exceptionMessage = System.String.Empty;
			string debugMessage = System.String.Empty;
			
			try
			{
			 	using(MemoryStream stream = new MemoryStream(Cryptography.RijndaelDecrypt(data, passPhrase, initVector)))
				{
            		string _username = UberStrike.Core.Serialization.StringProxy.Deserialize(stream);

					debugMessage = string.Format("username={0}", _username);
					using(MemoryStream returnData = new MemoryStream())
					{
		            	UberStrike.Core.Serialization.ListProxy<string>.Serialize(returnData, 
		                	WebServiceLayerManager.UserWebService.GenerateNonDuplicatedMemberNames
		                	(
                    			_username
		               		), StringProxy.Serialize
		            	);
							
						return Cryptography.RijndaelEncrypt(returnData.ToArray(), passPhrase, initVector);
					}
				}
			
			}
			catch (System.Security.Cryptography.CryptographicException ex)
			{
				exceptionMessage = LogUtil.LogException(ex, data);
			}
			catch (System.Exception ex2)
			{
				exceptionMessage = LogUtil.LogException(ex2, debugMessage);
			}
			
			throw new Exception(exceptionMessage);
		}
		
		public byte[] GetPublicProfile(byte[] data)
		{
			string exceptionMessage = System.String.Empty;
			string debugMessage = System.String.Empty;
			
			try
			{
			 	using(MemoryStream stream = new MemoryStream(Cryptography.RijndaelDecrypt(data, passPhrase, initVector)))
				{
            		int _cmid = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);
            		int _applicationId = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);

					debugMessage = string.Format("cmid={0}&applicationId={1}", _cmid, _applicationId);
					using(MemoryStream returnData = new MemoryStream())
					{
		            	UberStrike.Core.Serialization.PublicProfileViewProxy.Serialize(returnData, 
		                	WebServiceLayerManager.UserWebService.GetPublicProfile
		                	(
                    			_cmid,
                    			_applicationId
		               		)
		            	);
							
						return Cryptography.RijndaelEncrypt(returnData.ToArray(), passPhrase, initVector);
					}
				}
			
			}
			catch (System.Security.Cryptography.CryptographicException ex)
			{
				exceptionMessage = LogUtil.LogException(ex, data);
			}
			catch (System.Exception ex2)
			{
				exceptionMessage = LogUtil.LogException(ex2, debugMessage);
			}
			
			throw new Exception(exceptionMessage);
		}
		
		public byte[] GetMemberWallet(byte[] data)
		{
			string exceptionMessage = System.String.Empty;
			string debugMessage = System.String.Empty;
			
			try
			{
			 	using(MemoryStream stream = new MemoryStream(Cryptography.RijndaelDecrypt(data, passPhrase, initVector)))
				{
            		int _cmid = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);

					debugMessage = string.Format("cmid={0}", _cmid);
					using(MemoryStream returnData = new MemoryStream())
					{
		            	UberStrike.Core.Serialization.MemberWalletViewProxy.Serialize(returnData, 
		                	WebServiceLayerManager.UserWebService.GetMemberWallet
		                	(
                    			_cmid
		               		)
		            	);
							
						return Cryptography.RijndaelEncrypt(returnData.ToArray(), passPhrase, initVector);
					}
				}
			
			}
			catch (System.Security.Cryptography.CryptographicException ex)
			{
				exceptionMessage = LogUtil.LogException(ex, data);
			}
			catch (System.Exception ex2)
			{
				exceptionMessage = LogUtil.LogException(ex2, debugMessage);
			}
			
			throw new Exception(exceptionMessage);
		}
		
		public byte[] GetInventory(byte[] data)
		{
			string exceptionMessage = System.String.Empty;
			string debugMessage = System.String.Empty;
			
			try
			{
			 	using(MemoryStream stream = new MemoryStream(Cryptography.RijndaelDecrypt(data, passPhrase, initVector)))
				{
            		int _cmid = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);

					debugMessage = string.Format("cmid={0}", _cmid);
					using(MemoryStream returnData = new MemoryStream())
					{
		            	UberStrike.Core.Serialization.ListProxy<Cmune.DataCenter.Common.Entities.ItemInventoryView>.Serialize(returnData, 
		                	WebServiceLayerManager.UserWebService.GetInventory
		                	(
                    			_cmid
		               		), ItemInventoryViewProxy.Serialize
		            	);
							
						return Cryptography.RijndaelEncrypt(returnData.ToArray(), passPhrase, initVector);
					}
				}
			
			}
			catch (System.Security.Cryptography.CryptographicException ex)
			{
				exceptionMessage = LogUtil.LogException(ex, data);
			}
			catch (System.Exception ex2)
			{
				exceptionMessage = LogUtil.LogException(ex2, debugMessage);
			}
			
			throw new Exception(exceptionMessage);
		}
		
		public byte[] ReportMember(byte[] data)
		{
			string exceptionMessage = System.String.Empty;
			string debugMessage = System.String.Empty;
			
			try
			{
			 	using(MemoryStream stream = new MemoryStream(Cryptography.RijndaelDecrypt(data, passPhrase, initVector)))
				{
            		Cmune.DataCenter.Common.Entities.MemberReportView _memberReport = UberStrike.Core.Serialization.MemberReportViewProxy.Deserialize(stream);

					debugMessage = string.Format("memberReport={0}", (_memberReport!=null ? _memberReport.ToString() : "null"));
					using(MemoryStream returnData = new MemoryStream())
					{
		            	UberStrike.Core.Serialization.BooleanProxy.Serialize(returnData, 
		                	WebServiceLayerManager.UserWebService.ReportMember
		                	(
                    			_memberReport
		               		)
		            	);
							
						return Cryptography.RijndaelEncrypt(returnData.ToArray(), passPhrase, initVector);
					}
				}
			
			}
			catch (System.Security.Cryptography.CryptographicException ex)
			{
				exceptionMessage = LogUtil.LogException(ex, data);
			}
			catch (System.Exception ex2)
			{
				exceptionMessage = LogUtil.LogException(ex2, debugMessage);
			}
			
			throw new Exception(exceptionMessage);
		}
		
		public byte[] FindMembers(byte[] data)
		{
			string exceptionMessage = System.String.Empty;
			string debugMessage = System.String.Empty;
			
			try
			{
			 	using(MemoryStream stream = new MemoryStream(Cryptography.RijndaelDecrypt(data, passPhrase, initVector)))
				{
            		string _name = UberStrike.Core.Serialization.StringProxy.Deserialize(stream);
            		int _maxResults = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);

					debugMessage = string.Format("name={0}&maxResults={1}", _name, _maxResults);
					using(MemoryStream returnData = new MemoryStream())
					{
		            	UberStrike.Core.Serialization.DictionaryProxy<int,string>.Serialize(returnData, 
		                	WebServiceLayerManager.UserWebService.FindMembers
		                	(
                    			_name,
                    			_maxResults
		               		), Int32Proxy.Serialize, StringProxy.Serialize
		            	);
							
						return Cryptography.RijndaelEncrypt(returnData.ToArray(), passPhrase, initVector);
					}
				}
			
			}
			catch (System.Security.Cryptography.CryptographicException ex)
			{
				exceptionMessage = LogUtil.LogException(ex, data);
			}
			catch (System.Exception ex2)
			{
				exceptionMessage = LogUtil.LogException(ex2, debugMessage);
			}
			
			throw new Exception(exceptionMessage);
		}
		
		public byte[] GetCurrencyDeposits(byte[] data)
		{
			string exceptionMessage = System.String.Empty;
			string debugMessage = System.String.Empty;
			
			try
			{
			 	using(MemoryStream stream = new MemoryStream(Cryptography.RijndaelDecrypt(data, passPhrase, initVector)))
				{
            		int _cmid = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);
            		int _pageIndex = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);
            		int _elementPerPage = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);

					debugMessage = string.Format("cmid={0}&pageIndex={1}&elementPerPage={2}", _cmid, _pageIndex, _elementPerPage);
					using(MemoryStream returnData = new MemoryStream())
					{
		            	UberStrike.Core.Serialization.CurrencyDepositsViewModelProxy.Serialize(returnData, 
		                	WebServiceLayerManager.UserWebService.GetCurrencyDeposits
		                	(
                    			_cmid,
                    			_pageIndex,
                    			_elementPerPage
		               		)
		            	);
							
						return Cryptography.RijndaelEncrypt(returnData.ToArray(), passPhrase, initVector);
					}
				}
			
			}
			catch (System.Security.Cryptography.CryptographicException ex)
			{
				exceptionMessage = LogUtil.LogException(ex, data);
			}
			catch (System.Exception ex2)
			{
				exceptionMessage = LogUtil.LogException(ex2, debugMessage);
			}
			
			throw new Exception(exceptionMessage);
		}
		
		public byte[] GetItemTransactions(byte[] data)
		{
			string exceptionMessage = System.String.Empty;
			string debugMessage = System.String.Empty;
			
			try
			{
			 	using(MemoryStream stream = new MemoryStream(Cryptography.RijndaelDecrypt(data, passPhrase, initVector)))
				{
            		int _cmid = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);
            		int _pageIndex = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);
            		int _elementPerPage = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);

					debugMessage = string.Format("cmid={0}&pageIndex={1}&elementPerPage={2}", _cmid, _pageIndex, _elementPerPage);
					using(MemoryStream returnData = new MemoryStream())
					{
		            	UberStrike.Core.Serialization.ItemTransactionsViewModelProxy.Serialize(returnData, 
		                	WebServiceLayerManager.UserWebService.GetItemTransactions
		                	(
                    			_cmid,
                    			_pageIndex,
                    			_elementPerPage
		               		)
		            	);
							
						return Cryptography.RijndaelEncrypt(returnData.ToArray(), passPhrase, initVector);
					}
				}
			
			}
			catch (System.Security.Cryptography.CryptographicException ex)
			{
				exceptionMessage = LogUtil.LogException(ex, data);
			}
			catch (System.Exception ex2)
			{
				exceptionMessage = LogUtil.LogException(ex2, debugMessage);
			}
			
			throw new Exception(exceptionMessage);
		}
		
		public byte[] GetPointsDeposits(byte[] data)
		{
			string exceptionMessage = System.String.Empty;
			string debugMessage = System.String.Empty;
			
			try
			{
			 	using(MemoryStream stream = new MemoryStream(Cryptography.RijndaelDecrypt(data, passPhrase, initVector)))
				{
            		int _cmid = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);
            		int _pageIndex = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);
            		int _elementPerPage = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);

					debugMessage = string.Format("cmid={0}&pageIndex={1}&elementPerPage={2}", _cmid, _pageIndex, _elementPerPage);
					using(MemoryStream returnData = new MemoryStream())
					{
		            	UberStrike.Core.Serialization.PointDepositsViewModelProxy.Serialize(returnData, 
		                	WebServiceLayerManager.UserWebService.GetPointsDeposits
		                	(
                    			_cmid,
                    			_pageIndex,
                    			_elementPerPage
		               		)
		            	);
							
						return Cryptography.RijndaelEncrypt(returnData.ToArray(), passPhrase, initVector);
					}
				}
			
			}
			catch (System.Security.Cryptography.CryptographicException ex)
			{
				exceptionMessage = LogUtil.LogException(ex, data);
			}
			catch (System.Exception ex2)
			{
				exceptionMessage = LogUtil.LogException(ex2, debugMessage);
			}
			
			throw new Exception(exceptionMessage);
		}
		
		public byte[] GetUserAndTopStats(byte[] data)
		{
			string exceptionMessage = System.String.Empty;
			string debugMessage = System.String.Empty;
			
			try
			{
			 	using(MemoryStream stream = new MemoryStream(Cryptography.RijndaelDecrypt(data, passPhrase, initVector)))
				{
            		int _cmid = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);

					debugMessage = string.Format("cmid={0}", _cmid);
					using(MemoryStream returnData = new MemoryStream())
					{
		            	UberStrike.Core.Serialization.ListProxy<UberStrike.DataCenter.Common.Entities.PlayerCardView>.Serialize(returnData, 
		                	WebServiceLayerManager.UserWebService.GetUserAndTopStats
		                	(
                    			_cmid
		               		), PlayerCardViewProxy.Serialize
		            	);
							
						return Cryptography.RijndaelEncrypt(returnData.ToArray(), passPhrase, initVector);
					}
				}
			
			}
			catch (System.Security.Cryptography.CryptographicException ex)
			{
				exceptionMessage = LogUtil.LogException(ex, data);
			}
			catch (System.Exception ex2)
			{
				exceptionMessage = LogUtil.LogException(ex2, debugMessage);
			}
			
			throw new Exception(exceptionMessage);
		}
		
		public byte[] GetRealTimeStatistics(byte[] data)
		{
			string exceptionMessage = System.String.Empty;
			string debugMessage = System.String.Empty;
			
			try
			{
			 	using(MemoryStream stream = new MemoryStream(Cryptography.RijndaelDecrypt(data, passPhrase, initVector)))
				{
            		int _cmid = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);

					debugMessage = string.Format("cmid={0}", _cmid);
					using(MemoryStream returnData = new MemoryStream())
					{
		            	UberStrike.Core.Serialization.PlayerCardViewProxy.Serialize(returnData, 
		                	WebServiceLayerManager.UserWebService.GetRealTimeStatistics
		                	(
                    			_cmid
		               		)
		            	);
							
						return Cryptography.RijndaelEncrypt(returnData.ToArray(), passPhrase, initVector);
					}
				}
			
			}
			catch (System.Security.Cryptography.CryptographicException ex)
			{
				exceptionMessage = LogUtil.LogException(ex, data);
			}
			catch (System.Exception ex2)
			{
				exceptionMessage = LogUtil.LogException(ex2, debugMessage);
			}
			
			throw new Exception(exceptionMessage);
		}
		
		public void SetScore(byte[] data)
		{
			string exceptionMessage = System.String.Empty;
			string debugMessage = System.String.Empty;
			
			try
			{
			 	using(MemoryStream stream = new MemoryStream(Cryptography.RijndaelDecrypt(data, passPhrase, initVector)))
				{
            		UberStrike.DataCenter.Common.Entities.MatchView _scoringView = UberStrike.Core.Serialization.MatchViewProxy.Deserialize(stream);

					debugMessage = string.Format("scoringView={0}", (_scoringView!=null ? _scoringView.ToString() : "null"));
					WebServiceLayerManager.UserWebService.SetScore
		            (
            				_scoringView
					);
				}
			
			}
			catch (System.Security.Cryptography.CryptographicException ex)
			{
				exceptionMessage = LogUtil.LogException(ex, data);
			}
			catch (System.Exception ex2)
			{
				exceptionMessage = LogUtil.LogException(ex2, debugMessage);
			}
		}
		
		public byte[] GetMember(byte[] data)
		{
			string exceptionMessage = System.String.Empty;
			string debugMessage = System.String.Empty;
			
			try
			{
			 	using(MemoryStream stream = new MemoryStream(Cryptography.RijndaelDecrypt(data, passPhrase, initVector)))
				{
            		int _cmid = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);

					debugMessage = string.Format("cmid={0}", _cmid);
					using(MemoryStream returnData = new MemoryStream())
					{
		            	UberStrike.Core.Serialization.UberstrikeUserViewModelProxy.Serialize(returnData, 
		                	WebServiceLayerManager.UserWebService.GetMember
		                	(
                    			_cmid
		               		)
		            	);
							
						return Cryptography.RijndaelEncrypt(returnData.ToArray(), passPhrase, initVector);
					}
				}
			
			}
			catch (System.Security.Cryptography.CryptographicException ex)
			{
				exceptionMessage = LogUtil.LogException(ex, data);
			}
			catch (System.Exception ex2)
			{
				exceptionMessage = LogUtil.LogException(ex2, debugMessage);
			}
			
			throw new Exception(exceptionMessage);
		}
		
		public byte[] GetStatistics(byte[] data)
		{
			string exceptionMessage = System.String.Empty;
			string debugMessage = System.String.Empty;
			
			try
			{
			 	using(MemoryStream stream = new MemoryStream(Cryptography.RijndaelDecrypt(data, passPhrase, initVector)))
				{
            		int _cmid = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);

					debugMessage = string.Format("cmid={0}", _cmid);
					using(MemoryStream returnData = new MemoryStream())
					{
		            	UberStrike.Core.Serialization.PlayerCardViewProxy.Serialize(returnData, 
		                	WebServiceLayerManager.UserWebService.GetStatistics
		                	(
                    			_cmid
		               		)
		            	);
							
						return Cryptography.RijndaelEncrypt(returnData.ToArray(), passPhrase, initVector);
					}
				}
			
			}
			catch (System.Security.Cryptography.CryptographicException ex)
			{
				exceptionMessage = LogUtil.LogException(ex, data);
			}
			catch (System.Exception ex2)
			{
				exceptionMessage = LogUtil.LogException(ex2, debugMessage);
			}
			
			throw new Exception(exceptionMessage);
		}
		
		public byte[] GetLoadout(byte[] data)
		{
			string exceptionMessage = System.String.Empty;
			string debugMessage = System.String.Empty;
			
			try
			{
			 	using(MemoryStream stream = new MemoryStream(Cryptography.RijndaelDecrypt(data, passPhrase, initVector)))
				{
            		int _cmid = UberStrike.Core.Serialization.Int32Proxy.Deserialize(stream);

					debugMessage = string.Format("cmid={0}", _cmid);
					using(MemoryStream returnData = new MemoryStream())
					{
		            	UberStrike.Core.Serialization.LoadoutViewProxy.Serialize(returnData, 
		                	WebServiceLayerManager.UserWebService.GetLoadout
		                	(
                    			_cmid
		               		)
		            	);
							
						return Cryptography.RijndaelEncrypt(returnData.ToArray(), passPhrase, initVector);
					}
				}
			
			}
			catch (System.Security.Cryptography.CryptographicException ex)
			{
				exceptionMessage = LogUtil.LogException(ex, data);
			}
			catch (System.Exception ex2)
			{
				exceptionMessage = LogUtil.LogException(ex2, debugMessage);
			}
			
			throw new Exception(exceptionMessage);
		}
		
		public byte[] SetLoadout(byte[] data)
		{
			string exceptionMessage = System.String.Empty;
			string debugMessage = System.String.Empty;
			
			try
			{
			 	using(MemoryStream stream = new MemoryStream(Cryptography.RijndaelDecrypt(data, passPhrase, initVector)))
				{
            		UberStrike.DataCenter.Common.Entities.LoadoutView _loadoutView = UberStrike.Core.Serialization.LoadoutViewProxy.Deserialize(stream);

					debugMessage = string.Format("loadoutView={0}", (_loadoutView!=null ? _loadoutView.ToString() : "null"));
					using(MemoryStream returnData = new MemoryStream())
					{
		            	UberStrike.Core.Serialization.EnumProxy<Cmune.DataCenter.Common.Entities.MemberOperationResult>.Serialize(returnData, 
		                	WebServiceLayerManager.UserWebService.SetLoadout
		                	(
                    			_loadoutView
		               		)
		            	);
							
						return Cryptography.RijndaelEncrypt(returnData.ToArray(), passPhrase, initVector);
					}
				}
			
			}
			catch (System.Security.Cryptography.CryptographicException ex)
			{
				exceptionMessage = LogUtil.LogException(ex, data);
			}
			catch (System.Exception ex2)
			{
				exceptionMessage = LogUtil.LogException(ex2, debugMessage);
			}
			
			throw new Exception(exceptionMessage);
		}
		
		public byte[] GetXPEventsView(byte[] data)
		{
			string exceptionMessage = System.String.Empty;
			string debugMessage = System.String.Empty;
			
			try
			{
					debugMessage = "";
					using(MemoryStream returnData = new MemoryStream())
					{
		            	UberStrike.Core.Serialization.DictionaryProxy<int,UberStrike.DataCenter.Common.Entities.PlayerXPEventView>.Serialize(returnData, 
		                	WebServiceLayerManager.UserWebService.GetXPEventsView
		                	(
            			//no arguments
		               		), Int32Proxy.Serialize, PlayerXPEventViewProxy.Serialize
		            	);
							
						return Cryptography.RijndaelEncrypt(returnData.ToArray(), passPhrase, initVector);
					}
			
			}
			catch (System.Security.Cryptography.CryptographicException ex)
			{
				exceptionMessage = LogUtil.LogException(ex, data);
			}
			catch (System.Exception ex2)
			{
				exceptionMessage = LogUtil.LogException(ex2, debugMessage);
			}
			
			throw new Exception(exceptionMessage);
		}
		
		public byte[] GetLevelCapsView(byte[] data)
		{
			string exceptionMessage = System.String.Empty;
			string debugMessage = System.String.Empty;
			
			try
			{
					debugMessage = "";
					using(MemoryStream returnData = new MemoryStream())
					{
		            	UberStrike.Core.Serialization.ListProxy<UberStrike.DataCenter.Common.Entities.PlayerLevelCapView>.Serialize(returnData, 
		                	WebServiceLayerManager.UserWebService.GetLevelCapsView
		                	(
            			//no arguments
		               		), PlayerLevelCapViewProxy.Serialize
		            	);
							
						return Cryptography.RijndaelEncrypt(returnData.ToArray(), passPhrase, initVector);
					}
			
			}
			catch (System.Security.Cryptography.CryptographicException ex)
			{
				exceptionMessage = LogUtil.LogException(ex, data);
			}
			catch (System.Exception ex2)
			{
				exceptionMessage = LogUtil.LogException(ex2, debugMessage);
			}
			
			throw new Exception(exceptionMessage);
		}
		
	}
	
	#endregion
	
	internal static class LogUtil
	{
		public static string LogException(System.Security.Cryptography.CryptographicException ex, byte[] data)
        {
            string logMessage = string.Empty;
            string userAgent = WebOperationContext.Current.IncomingRequest.Headers["User-Agent"];
            string url = OperationContext.Current.RequestContext.RequestMessage.Headers.To.AbsoluteUri;

            if (data == null) logMessage = "null";
            else if (data.Length == 0) logMessage = "empty";
            else logMessage = System.Convert.ToBase64String(data);

            CmuneLog.LogException(ex, string.Format("Deserialization/Decryption error:<br />Time: {0}<br />UserAgent: {1}<br />IP: {2}<br />Byte[]: {3}<br />Url: {4}", System.DateTime.Now.ToString("HH:mm:ss.sss"), userAgent, WebServiceUtil.GetCurrentContextNetworkAddress(), logMessage, url));
           
            return ex.GetType().ToString();
        }
		
		public static string LogException(System.Exception ex, string debugMessage)
        {
			CmuneLog.LogException(ex, debugMessage);
			return ex.GetType().ToString();
		}
	}

	internal static class WebServiceLayerManager
	{
		public static IApplicationWebService ApplicationWebService = new ApplicationWebService();
		public static IAuthenticationWebService AuthenticationWebService = new AuthenticationWebService();
		public static IClanWebService ClanWebService = new ClanWebService();
		public static IModerationWebService ModerationWebService = new ModerationWebService();
		public static IPrivateMessageWebService PrivateMessageWebService = new PrivateMessageWebService();
		public static IRelationshipWebService RelationshipWebService = new RelationshipWebService();
		public static IShopWebService ShopWebService = new ShopWebService();
		public static IUserWebService UserWebService = new UserWebService();
	}
}